
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../etl/">
      
      
        <link rel="next" href="../app/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>API - University App Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api-documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="University App Documentation" class="md-header__button md-logo" aria-label="University App Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            University App Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../etl/" class="md-tabs__link">
        
  
  
    
  
  ETL

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  API

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../app/" class="md-tabs__link">
        
  
  
    
  
  APP

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../api_models/" class="md-tabs__link">
        
  
  
    
  
  API models

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="University App Documentation" class="md-nav__button md-logo" aria-label="University App Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    University App Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../etl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ETL
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    API
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    API
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main-application" class="md-nav__link">
    <span class="md-ellipsis">
      
        Main Application
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main" class="md-nav__link">
    <span class="md-ellipsis">
      
        main
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.create_cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_cluster
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.create_course" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_course
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.create_coursecluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_coursecluster
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.create_department" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_department
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.create_draft_schedule" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_draft_schedule
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.create_hascourse" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_hascourse
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.create_instructor" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_instructor
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.create_location" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_location
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.create_preferred" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_preferred
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.create_prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_prerequisites
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.create_program" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_program
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.create_recommendation_result" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_recommendation_result
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.create_section" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_section
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.create_student" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_student
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.create_takes" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_takes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.create_timeslot" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_timeslot
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.create_works" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_works
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.delete_cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_cluster
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.delete_course" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_course
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.delete_coursecluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_coursecluster
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.delete_department" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_department
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.delete_draft_schedule" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_draft_schedule
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.delete_hascourse" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_hascourse
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.delete_instructor" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_instructor
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.delete_location" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_location
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.delete_preferred" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_preferred
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.delete_prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_prerequisites
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.delete_program" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_program
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.delete_recommendation_result" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_recommendation_result
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.delete_section" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_section
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.delete_student" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_student
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.delete_takes" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_takes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.delete_timeslot" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_timeslot
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.delete_works" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_works
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.generate_recommendations" class="md-nav__link">
    <span class="md-ellipsis">
      
        generate_recommendations
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_cluster
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_clusters" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_clusters
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_course" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_course
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_coursecluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_coursecluster
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_courses" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_courses
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_department" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_department
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_departments" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_departments
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_draft_schedule" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_draft_schedule
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_draft_schedules" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_draft_schedules
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_hascourse" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_hascourse
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_instructor" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_instructor
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_instructors" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_instructors
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_location" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_location
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_locations" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_locations
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_preferred" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_preferred
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_prerequisites
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_program" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_program
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_programs" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_programs
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_recommendation_result" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_recommendation_result
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_recommendation_results" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_recommendation_results
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_section" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_section
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_sections" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_sections
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_student" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_student
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_student_statistics" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_student_statistics
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_takes" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_takes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_timeslot" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_timeslot
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_timeslots" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_timeslots
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.get_works" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_works
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.health_check" class="md-nav__link">
    <span class="md-ellipsis">
      
        health_check
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.login" class="md-nav__link">
    <span class="md-ellipsis">
      
        login
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.startup_event" class="md-nav__link">
    <span class="md-ellipsis">
      
        startup_event
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.update_cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        update_cluster
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.update_course" class="md-nav__link">
    <span class="md-ellipsis">
      
        update_course
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.update_department" class="md-nav__link">
    <span class="md-ellipsis">
      
        update_department
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.update_draft_schedule" class="md-nav__link">
    <span class="md-ellipsis">
      
        update_draft_schedule
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.update_instructor" class="md-nav__link">
    <span class="md-ellipsis">
      
        update_instructor
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.update_location" class="md-nav__link">
    <span class="md-ellipsis">
      
        update_location
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.update_program" class="md-nav__link">
    <span class="md-ellipsis">
      
        update_program
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.update_recommendation_result" class="md-nav__link">
    <span class="md-ellipsis">
      
        update_recommendation_result
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.update_section" class="md-nav__link">
    <span class="md-ellipsis">
      
        update_section
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.update_student" class="md-nav__link">
    <span class="md-ellipsis">
      
        update_student
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.main.update_timeslot" class="md-nav__link">
    <span class="md-ellipsis">
      
        update_timeslot
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database Configuration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.database" class="md-nav__link">
    <span class="md-ellipsis">
      
        database
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.database.get_db" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_db
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#schema-definitions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Schema Definitions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema" class="md-nav__link">
    <span class="md-ellipsis">
      
        schema
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.Cluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cluster
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.ClusterCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        ClusterCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.Course" class="md-nav__link">
    <span class="md-ellipsis">
      
        Course
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.CourseCluster" class="md-nav__link">
    <span class="md-ellipsis">
      
        CourseCluster
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.CourseClusterCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        CourseClusterCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.CourseCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        CourseCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.Department" class="md-nav__link">
    <span class="md-ellipsis">
      
        Department
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.DepartmentCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        DepartmentCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.DraftSchedule" class="md-nav__link">
    <span class="md-ellipsis">
      
        DraftSchedule
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.DraftScheduleCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        DraftScheduleCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.DraftScheduleUpdate" class="md-nav__link">
    <span class="md-ellipsis">
      
        DraftScheduleUpdate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.HasCourse" class="md-nav__link">
    <span class="md-ellipsis">
      
        HasCourse
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.HasCourseCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        HasCourseCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.Instructor" class="md-nav__link">
    <span class="md-ellipsis">
      
        Instructor
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.InstructorCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        InstructorCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.Location" class="md-nav__link">
    <span class="md-ellipsis">
      
        Location
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.LocationCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        LocationCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.Preferred" class="md-nav__link">
    <span class="md-ellipsis">
      
        Preferred
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.PreferredCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        PreferredCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.Prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      
        Prerequisites
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.PrerequisitesCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        PrerequisitesCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.Program" class="md-nav__link">
    <span class="md-ellipsis">
      
        Program
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.ProgramCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        ProgramCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.RecommendationResult" class="md-nav__link">
    <span class="md-ellipsis">
      
        RecommendationResult
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.RecommendationResultCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        RecommendationResultCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.Section" class="md-nav__link">
    <span class="md-ellipsis">
      
        Section
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.SectionCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        SectionCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.SectionName" class="md-nav__link">
    <span class="md-ellipsis">
      
        SectionName
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.SectionNameCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        SectionNameCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.Student" class="md-nav__link">
    <span class="md-ellipsis">
      
        Student
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.StudentCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        StudentCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.Takes" class="md-nav__link">
    <span class="md-ellipsis">
      
        Takes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.TakesCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        TakesCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.TimeSlot" class="md-nav__link">
    <span class="md-ellipsis">
      
        TimeSlot
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.TimeSlotCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        TimeSlotCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.User" class="md-nav__link">
    <span class="md-ellipsis">
      
        User
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.UserCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        UserCreate
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.Works" class="md-nav__link">
    <span class="md-ellipsis">
      
        Works
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#university_app.api.Database.schema.WorksCreate" class="md-nav__link">
    <span class="md-ellipsis">
      
        WorksCreate
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../app/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    APP
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API models
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="api-documentation">API Documentation</h1>
<h2 id="overview">Overview</h2>
<p>The API component is a FastAPI-based backend service that provides REST endpoints for the university application.</p>
<h2 id="main-application">Main Application</h2>


<div class="doc doc-object doc-module">



<a id="university_app.api.main"></a>
    <div class="doc doc-contents first">

        <p>FastAPI application for University Course Management System.
Provides REST API endpoints for managing students, courses, and sections.</p>
<p>This module defines all API endpoints including student CRUD operations.</p>










<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.create_cluster" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_cluster</span><span class="p">(</span><span class="n">cluster</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new cluster record in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>cluster (ClusterCreate): The cluster data to create.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Cluster: The newly created cluster's details.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1497</span>
<span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/clusters/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Cluster</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Clusters&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_cluster</span><span class="p">(</span><span class="n">cluster</span><span class="p">:</span> <span class="n">ClusterCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new cluster record in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        cluster (ClusterCreate): The cluster data to create.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Cluster: The newly created cluster&#39;s details.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db_cluster</span> <span class="o">=</span> <span class="n">ClusterDB</span><span class="p">(</span><span class="o">**</span><span class="n">cluster</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_cluster</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_cluster</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">db_cluster</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.create_course" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_course</span><span class="p">(</span><span class="n">course</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new course record in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>course (CourseCreate): The course data to create.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Course: The newly created course's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If database error occurs</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/courses/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Course</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Courses&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_course</span><span class="p">(</span><span class="n">course</span><span class="p">:</span> <span class="n">CourseCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new course record in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        course (CourseCreate): The course data to create.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Course: The newly created course&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If database error occurs</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">db_course</span> <span class="o">=</span> <span class="n">CourseDB</span><span class="p">(</span><span class="o">**</span><span class="n">course</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
        <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_course</span><span class="p">)</span>
        <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_course</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">db_course</span>
    <span class="k">except</span> <span class="n">SQLAlchemyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Database error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invalid data: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.create_coursecluster" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_coursecluster</span><span class="p">(</span><span class="n">coursecluster</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new course-cluster relationship record in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>coursecluster (CourseClusterCreate): The relationship data to create.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>CourseCluster: The newly created relationship record.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/coursecluster/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">CourseCluster</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Course Clusters&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_coursecluster</span><span class="p">(</span><span class="n">coursecluster</span><span class="p">:</span> <span class="n">CourseClusterCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new course-cluster relationship record in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        coursecluster (CourseClusterCreate): The relationship data to create.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        CourseCluster: The newly created relationship record.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db_coursecluster</span> <span class="o">=</span> <span class="n">CourseClusterDB</span><span class="p">(</span><span class="o">**</span><span class="n">coursecluster</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_coursecluster</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_coursecluster</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">db_coursecluster</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.create_department" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_department</span><span class="p">(</span><span class="n">department</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new department record in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>department (DepartmentCreate): The department data to create.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Department: The newly created department's details.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">810</span>
<span class="normal">811</span>
<span class="normal">812</span>
<span class="normal">813</span>
<span class="normal">814</span>
<span class="normal">815</span>
<span class="normal">816</span>
<span class="normal">817</span>
<span class="normal">818</span>
<span class="normal">819</span>
<span class="normal">820</span>
<span class="normal">821</span>
<span class="normal">822</span>
<span class="normal">823</span>
<span class="normal">824</span>
<span class="normal">825</span>
<span class="normal">826</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/departments/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Department</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Departments&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_department</span><span class="p">(</span><span class="n">department</span><span class="p">:</span> <span class="n">DepartmentCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new department record in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        department (DepartmentCreate): The department data to create.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Department: The newly created department&#39;s details.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db_department</span> <span class="o">=</span> <span class="n">DepartmentDB</span><span class="p">(</span><span class="o">**</span><span class="n">department</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_department</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_department</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">db_department</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.create_draft_schedule" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_draft_schedule</span><span class="p">(</span><span class="n">schedule_data</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new draft schedule.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>schedule_data (DraftScheduleCreate): The draft schedule data including student_id, name, and section_ids.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>DraftSchedule: The newly created draft schedule.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If student doesn't exist or sections are invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2106</span>
<span class="normal">2107</span>
<span class="normal">2108</span>
<span class="normal">2109</span>
<span class="normal">2110</span>
<span class="normal">2111</span>
<span class="normal">2112</span>
<span class="normal">2113</span>
<span class="normal">2114</span>
<span class="normal">2115</span>
<span class="normal">2116</span>
<span class="normal">2117</span>
<span class="normal">2118</span>
<span class="normal">2119</span>
<span class="normal">2120</span>
<span class="normal">2121</span>
<span class="normal">2122</span>
<span class="normal">2123</span>
<span class="normal">2124</span>
<span class="normal">2125</span>
<span class="normal">2126</span>
<span class="normal">2127</span>
<span class="normal">2128</span>
<span class="normal">2129</span>
<span class="normal">2130</span>
<span class="normal">2131</span>
<span class="normal">2132</span>
<span class="normal">2133</span>
<span class="normal">2134</span>
<span class="normal">2135</span>
<span class="normal">2136</span>
<span class="normal">2137</span>
<span class="normal">2138</span>
<span class="normal">2139</span>
<span class="normal">2140</span>
<span class="normal">2141</span>
<span class="normal">2142</span>
<span class="normal">2143</span>
<span class="normal">2144</span>
<span class="normal">2145</span>
<span class="normal">2146</span>
<span class="normal">2147</span>
<span class="normal">2148</span>
<span class="normal">2149</span>
<span class="normal">2150</span>
<span class="normal">2151</span>
<span class="normal">2152</span>
<span class="normal">2153</span>
<span class="normal">2154</span>
<span class="normal">2155</span>
<span class="normal">2156</span>
<span class="normal">2157</span>
<span class="normal">2158</span>
<span class="normal">2159</span>
<span class="normal">2160</span>
<span class="normal">2161</span>
<span class="normal">2162</span>
<span class="normal">2163</span>
<span class="normal">2164</span>
<span class="normal">2165</span>
<span class="normal">2166</span>
<span class="normal">2167</span>
<span class="normal">2168</span>
<span class="normal">2169</span>
<span class="normal">2170</span>
<span class="normal">2171</span>
<span class="normal">2172</span>
<span class="normal">2173</span>
<span class="normal">2174</span>
<span class="normal">2175</span>
<span class="normal">2176</span>
<span class="normal">2177</span>
<span class="normal">2178</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/draft-schedules/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">DraftSchedule</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Draft Schedules&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_draft_schedule</span><span class="p">(</span>
    <span class="n">schedule_data</span><span class="p">:</span> <span class="n">DraftScheduleCreate</span><span class="p">,</span>
    <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new draft schedule.</span>

<span class="sd">    Input:</span>
<span class="sd">        schedule_data (DraftScheduleCreate): The draft schedule data including student_id, name, and section_ids.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        DraftSchedule: The newly created draft schedule.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If student doesn&#39;t exist or sections are invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Verify student exists</span>
    <span class="n">student</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">StudentDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">StudentDB</span><span class="o">.</span><span class="n">student_id</span> <span class="o">==</span> <span class="n">schedule_data</span><span class="o">.</span><span class="n">student_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">student</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Student not found&quot;</span><span class="p">)</span>

    <span class="c1"># Verify all sections exist</span>
    <span class="k">if</span> <span class="n">schedule_data</span><span class="o">.</span><span class="n">section_ids</span><span class="p">:</span>
        <span class="n">existing_sections</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">SectionDB</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
            <span class="n">SectionDB</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">in_</span><span class="p">(</span><span class="n">schedule_data</span><span class="o">.</span><span class="n">section_ids</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="n">existing_section_ids</span> <span class="o">=</span> <span class="p">{</span><span class="n">sid</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">sid</span> <span class="ow">in</span> <span class="n">existing_sections</span><span class="p">}</span>
        <span class="n">invalid_sections</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">schedule_data</span><span class="o">.</span><span class="n">section_ids</span><span class="p">)</span> <span class="o">-</span> <span class="n">existing_section_ids</span>
        <span class="k">if</span> <span class="n">invalid_sections</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                <span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
                <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invalid section IDs: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">invalid_sections</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Create draft schedule</span>
        <span class="n">new_schedule</span> <span class="o">=</span> <span class="n">DraftScheduleDB</span><span class="p">(</span>
            <span class="n">student_id</span><span class="o">=</span><span class="n">schedule_data</span><span class="o">.</span><span class="n">student_id</span><span class="p">,</span>
            <span class="n">name</span><span class="o">=</span><span class="n">schedule_data</span><span class="o">.</span><span class="n">name</span>
        <span class="p">)</span>
        <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_schedule</span><span class="p">)</span>
        <span class="n">db</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>  <span class="c1"># Get the ID without committing</span>

        <span class="c1"># Add sections to the schedule</span>
        <span class="k">for</span> <span class="n">section_id</span> <span class="ow">in</span> <span class="n">schedule_data</span><span class="o">.</span><span class="n">section_ids</span><span class="p">:</span>
            <span class="n">schedule_section</span> <span class="o">=</span> <span class="n">DraftScheduleSectionDB</span><span class="p">(</span>
                <span class="n">draft_schedule_id</span><span class="o">=</span><span class="n">new_schedule</span><span class="o">.</span><span class="n">draft_schedule_id</span><span class="p">,</span>
                <span class="n">section_id</span><span class="o">=</span><span class="n">section_id</span>
            <span class="p">)</span>
            <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">schedule_section</span><span class="p">)</span>

        <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">new_schedule</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">HTTPException</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span>
    <span class="k">except</span> <span class="n">SQLAlchemyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Database error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Error creating draft schedule: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;draft_schedule_id&quot;</span><span class="p">:</span> <span class="n">new_schedule</span><span class="o">.</span><span class="n">draft_schedule_id</span><span class="p">,</span>
        <span class="s2">&quot;student_id&quot;</span><span class="p">:</span> <span class="n">new_schedule</span><span class="o">.</span><span class="n">student_id</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">new_schedule</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="n">new_schedule</span><span class="o">.</span><span class="n">created_at</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">new_schedule</span><span class="o">.</span><span class="n">created_at</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;updated_at&quot;</span><span class="p">:</span> <span class="n">new_schedule</span><span class="o">.</span><span class="n">updated_at</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">new_schedule</span><span class="o">.</span><span class="n">updated_at</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;section_ids&quot;</span><span class="p">:</span> <span class="n">schedule_data</span><span class="o">.</span><span class="n">section_ids</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.create_hascourse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_hascourse</span><span class="p">(</span><span class="n">hascourse</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new program-course relationship record in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>hascourse (HasCourseCreate): The relationship data to create.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>HasCourse: The newly created relationship record.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/hascourse/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">HasCourse</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Program Courses&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_hascourse</span><span class="p">(</span><span class="n">hascourse</span><span class="p">:</span> <span class="n">HasCourseCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new program-course relationship record in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        hascourse (HasCourseCreate): The relationship data to create.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        HasCourse: The newly created relationship record.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db_hascourse</span> <span class="o">=</span> <span class="n">HasCourseDB</span><span class="p">(</span><span class="o">**</span><span class="n">hascourse</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_hascourse</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_hascourse</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">db_hascourse</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.create_instructor" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_instructor</span><span class="p">(</span><span class="n">instructor</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new instructor record in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>instructor (InstructorCreate): The instructor data to create.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Instructor: The newly created instructor's details.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/instructors/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Instructor</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Instructors&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_instructor</span><span class="p">(</span><span class="n">instructor</span><span class="p">:</span> <span class="n">InstructorCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new instructor record in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        instructor (InstructorCreate): The instructor data to create.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Instructor: The newly created instructor&#39;s details.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db_instructor</span> <span class="o">=</span> <span class="n">InstructorDB</span><span class="p">(</span><span class="o">**</span><span class="n">instructor</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_instructor</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_instructor</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">db_instructor</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.create_location" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_location</span><span class="p">(</span><span class="n">location</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new location record in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>location (LocationCreate): The location data to create.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Location: The newly created location's details.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/locations/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Location</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Locations&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_location</span><span class="p">(</span><span class="n">location</span><span class="p">:</span> <span class="n">LocationCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new location record in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        location (LocationCreate): The location data to create.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Location: The newly created location&#39;s details.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db_location</span> <span class="o">=</span> <span class="n">LocationDB</span><span class="p">(</span><span class="o">**</span><span class="n">location</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_location</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_location</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">db_location</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.create_preferred" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_preferred</span><span class="p">(</span><span class="n">preferred</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new student-course preference record in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>preferred (PreferredCreate): The preference data to create.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Preferred: The newly created preference record.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1652</span>
<span class="normal">1653</span>
<span class="normal">1654</span>
<span class="normal">1655</span>
<span class="normal">1656</span>
<span class="normal">1657</span>
<span class="normal">1658</span>
<span class="normal">1659</span>
<span class="normal">1660</span>
<span class="normal">1661</span>
<span class="normal">1662</span>
<span class="normal">1663</span>
<span class="normal">1664</span>
<span class="normal">1665</span>
<span class="normal">1666</span>
<span class="normal">1667</span>
<span class="normal">1668</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/preferred/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Preferred</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Preferences&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_preferred</span><span class="p">(</span><span class="n">preferred</span><span class="p">:</span> <span class="n">PreferredCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new student-course preference record in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        preferred (PreferredCreate): The preference data to create.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Preferred: The newly created preference record.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db_preferred</span> <span class="o">=</span> <span class="n">PreferredDB</span><span class="p">(</span><span class="o">**</span><span class="n">preferred</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_preferred</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_preferred</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">db_preferred</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.create_prerequisites" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_prerequisites</span><span class="p">(</span><span class="n">prerequisites</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new prerequisite record in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>prerequisites (PrerequisitesCreate): The prerequisite data to create.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Prerequisites: The newly created prerequisite record.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/prerequisites/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Prerequisites</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Prerequisites&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_prerequisites</span><span class="p">(</span><span class="n">prerequisites</span><span class="p">:</span> <span class="n">PrerequisitesCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new prerequisite record in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        prerequisites (PrerequisitesCreate): The prerequisite data to create.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Prerequisites: The newly created prerequisite record.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db_prerequisites</span> <span class="o">=</span> <span class="n">PrerequisitesDB</span><span class="p">(</span><span class="o">**</span><span class="n">prerequisites</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_prerequisites</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_prerequisites</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">db_prerequisites</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.create_program" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_program</span><span class="p">(</span><span class="n">program</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new program record in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>program (ProgramCreate): The program data to create.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Program: The newly created program's details.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">911</span>
<span class="normal">912</span>
<span class="normal">913</span>
<span class="normal">914</span>
<span class="normal">915</span>
<span class="normal">916</span>
<span class="normal">917</span>
<span class="normal">918</span>
<span class="normal">919</span>
<span class="normal">920</span>
<span class="normal">921</span>
<span class="normal">922</span>
<span class="normal">923</span>
<span class="normal">924</span>
<span class="normal">925</span>
<span class="normal">926</span>
<span class="normal">927</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/programs/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Program</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Programs&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_program</span><span class="p">(</span><span class="n">program</span><span class="p">:</span> <span class="n">ProgramCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new program record in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        program (ProgramCreate): The program data to create.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Program: The newly created program&#39;s details.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db_program</span> <span class="o">=</span> <span class="n">ProgramDB</span><span class="p">(</span><span class="o">**</span><span class="n">program</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_program</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_program</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">db_program</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.create_recommendation_result" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_recommendation_result</span><span class="p">(</span><span class="n">recommendation</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new recommendation result record in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>recommendation (RecommendationResultCreate): The recommendation result data to create.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>RecommendationResult: The newly created recommendation result's details.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/recommendation-results/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">RecommendationResult</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Recommendations&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_recommendation_result</span><span class="p">(</span>
    <span class="n">recommendation</span><span class="p">:</span> <span class="n">RecommendationResultCreate</span><span class="p">,</span>
    <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new recommendation result record in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        recommendation (RecommendationResultCreate): The recommendation result data to create.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        RecommendationResult: The newly created recommendation result&#39;s details.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db_recommendation</span> <span class="o">=</span> <span class="n">RecommendationResultDB</span><span class="p">(</span><span class="o">**</span><span class="n">recommendation</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_recommendation</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_recommendation</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">db_recommendation</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="s2">&quot;student_id&quot;</span><span class="p">:</span> <span class="n">db_recommendation</span><span class="o">.</span><span class="n">student_id</span><span class="p">,</span>
        <span class="s2">&quot;course_id&quot;</span><span class="p">:</span> <span class="n">db_recommendation</span><span class="o">.</span><span class="n">course_id</span><span class="p">,</span>
        <span class="s2">&quot;recommended_section_id&quot;</span><span class="p">:</span> <span class="n">db_recommendation</span><span class="o">.</span><span class="n">recommended_section_id</span><span class="p">,</span>
        <span class="s2">&quot;course_name&quot;</span><span class="p">:</span> <span class="n">db_recommendation</span><span class="o">.</span><span class="n">course_name</span><span class="p">,</span>
        <span class="s2">&quot;cluster&quot;</span><span class="p">:</span> <span class="n">db_recommendation</span><span class="o">.</span><span class="n">cluster</span><span class="p">,</span>
        <span class="s2">&quot;credits&quot;</span><span class="p">:</span> <span class="n">db_recommendation</span><span class="o">.</span><span class="n">credits</span><span class="p">,</span>
        <span class="s2">&quot;time_slot&quot;</span><span class="p">:</span> <span class="n">db_recommendation</span><span class="o">.</span><span class="n">time_slot</span><span class="p">,</span>
        <span class="s2">&quot;recommendation_score&quot;</span><span class="p">:</span> <span class="n">db_recommendation</span><span class="o">.</span><span class="n">recommendation_score</span><span class="p">,</span>
        <span class="s2">&quot;why_recommended&quot;</span><span class="p">:</span> <span class="n">db_recommendation</span><span class="o">.</span><span class="n">why_recommended</span><span class="p">,</span>
        <span class="s2">&quot;slot_number&quot;</span><span class="p">:</span> <span class="n">db_recommendation</span><span class="o">.</span><span class="n">slot_number</span><span class="p">,</span>
        <span class="s2">&quot;model_version&quot;</span><span class="p">:</span> <span class="n">db_recommendation</span><span class="o">.</span><span class="n">model_version</span><span class="p">,</span>
        <span class="s2">&quot;time_preference&quot;</span><span class="p">:</span> <span class="n">db_recommendation</span><span class="o">.</span><span class="n">time_preference</span><span class="p">,</span>
        <span class="s2">&quot;semester&quot;</span><span class="p">:</span> <span class="n">db_recommendation</span><span class="o">.</span><span class="n">semester</span><span class="p">,</span>
        <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">db_recommendation</span><span class="o">.</span><span class="n">year</span><span class="p">,</span>
        <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="n">db_recommendation</span><span class="o">.</span><span class="n">created_at</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">db_recommendation</span><span class="o">.</span><span class="n">created_at</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;updated_at&quot;</span><span class="p">:</span> <span class="n">db_recommendation</span><span class="o">.</span><span class="n">updated_at</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">db_recommendation</span><span class="o">.</span><span class="n">updated_at</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.create_section" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_section</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new section record in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>section (SectionCreate): The section data to create.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Section: The newly created section's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If database error occurs</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/sections/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Section</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Sections&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_section</span><span class="p">(</span><span class="n">section</span><span class="p">:</span> <span class="n">SectionCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new section record in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        section (SectionCreate): The section data to create.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Section: The newly created section&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If database error occurs</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">db_section</span> <span class="o">=</span> <span class="n">SectionDB</span><span class="p">(</span><span class="o">**</span><span class="n">section</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
        <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_section</span><span class="p">)</span>
        <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_section</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">db_section</span>
    <span class="k">except</span> <span class="n">SQLAlchemyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Database error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invalid data: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.create_student" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_student</span><span class="p">(</span><span class="n">student</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new student record in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>student (StudentCreate): The student data to create.
db (Session): Database session provided by dependency injection.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Student: The newly created student's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If database error occurs</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/students/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Student</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Students&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_student</span><span class="p">(</span><span class="n">student</span><span class="p">:</span> <span class="n">StudentCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new student record in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        student (StudentCreate): The student data to create.</span>
<span class="sd">        db (Session): Database session provided by dependency injection.</span>

<span class="sd">    Output:</span>
<span class="sd">        Student: The newly created student&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If database error occurs</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">db_student</span> <span class="o">=</span> <span class="n">StudentDB</span><span class="p">(</span>
            <span class="n">student_name</span><span class="o">=</span><span class="n">student</span><span class="o">.</span><span class="n">student_name</span><span class="p">,</span>
            <span class="n">credit</span><span class="o">=</span><span class="n">student</span><span class="o">.</span><span class="n">credit</span><span class="p">,</span>
            <span class="n">program_name</span><span class="o">=</span><span class="n">student</span><span class="o">.</span><span class="n">program_name</span>
        <span class="p">)</span>
        <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_student</span><span class="p">)</span>
        <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_student</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">db_student</span>
    <span class="k">except</span> <span class="n">SQLAlchemyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Database error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invalid data: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.create_takes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_takes</span><span class="p">(</span><span class="n">takes</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new student enrollment record in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>takes (TakesCreate): The enrollment data to create.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Takes: The newly created enrollment record.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If database error occurs</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/takes/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Takes</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Enrollments&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_takes</span><span class="p">(</span><span class="n">takes</span><span class="p">:</span> <span class="n">TakesCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new student enrollment record in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        takes (TakesCreate): The enrollment data to create.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Takes: The newly created enrollment record.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If database error occurs</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">db_takes</span> <span class="o">=</span> <span class="n">TakesDB</span><span class="p">(</span><span class="o">**</span><span class="n">takes</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
        <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_takes</span><span class="p">)</span>
        <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_takes</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">db_takes</span>
    <span class="k">except</span> <span class="n">SQLAlchemyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Database error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invalid data: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.create_timeslot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_timeslot</span><span class="p">(</span><span class="n">timeslot</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new time slot record in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>timeslot (TimeSlotCreate): The time slot data to create.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>TimeSlot: The newly created time slot's details.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/timeslots/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">TimeSlot</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Time Slots&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_timeslot</span><span class="p">(</span><span class="n">timeslot</span><span class="p">:</span> <span class="n">TimeSlotCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new time slot record in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        timeslot (TimeSlotCreate): The time slot data to create.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        TimeSlot: The newly created time slot&#39;s details.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db_timeslot</span> <span class="o">=</span> <span class="n">TimeSlotDB</span><span class="p">(</span><span class="o">**</span><span class="n">timeslot</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_timeslot</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_timeslot</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">db_timeslot</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.create_works" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_works</span><span class="p">(</span><span class="n">works</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Create a new instructor-department relationship record in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>works (WorksCreate): The relationship data to create.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Works: The newly created relationship record.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/works/&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Works</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Works&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_works</span><span class="p">(</span><span class="n">works</span><span class="p">:</span> <span class="n">WorksCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new instructor-department relationship record in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        works (WorksCreate): The relationship data to create.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Works: The newly created relationship record.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db_works</span> <span class="o">=</span> <span class="n">WorksDB</span><span class="p">(</span><span class="o">**</span><span class="n">works</span><span class="o">.</span><span class="n">model_dump</span><span class="p">())</span>
    <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_works</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">db_works</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">db_works</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.delete_cluster" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_cluster</span><span class="p">(</span><span class="n">cluster_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Delete a cluster by its unique ID from the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>cluster_id (int): The unique identifier of the cluster to delete.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: A message confirming successful deletion.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the cluster is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/clusters/</span><span class="si">{cluster_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Clusters&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_cluster</span><span class="p">(</span><span class="n">cluster_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete a cluster by its unique ID from the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        cluster_id (int): The unique identifier of the cluster to delete.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: A message confirming successful deletion.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the cluster is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cluster</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">ClusterDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ClusterDB</span><span class="o">.</span><span class="n">cluster_id</span> <span class="o">==</span> <span class="n">cluster_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">cluster</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Cluster not found&quot;</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">cluster</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Cluster deleted successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.delete_course" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_course</span><span class="p">(</span><span class="n">course_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Delete a course by its unique ID from the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>course_id (int): The unique identifier of the course to delete.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: A message confirming successful deletion.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the course is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/courses/</span><span class="si">{course_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Courses&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_course</span><span class="p">(</span><span class="n">course_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete a course by its unique ID from the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        course_id (int): The unique identifier of the course to delete.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: A message confirming successful deletion.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the course is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">course</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">CourseDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">CourseDB</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">course_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">course</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Course not found&quot;</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">course</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Course deleted successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.delete_coursecluster" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_coursecluster</span><span class="p">(</span><span class="n">course_id</span><span class="p">,</span> <span class="n">cluster_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Delete a course-cluster relationship record from the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>course_id (int): The unique identifier of the course.
cluster_id (int): The unique identifier of the cluster.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: A message confirming successful deletion.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the relationship is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span>
<span class="normal">1607</span>
<span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span>
<span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/coursecluster/&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Course Clusters&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_coursecluster</span><span class="p">(</span><span class="n">course_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">cluster_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete a course-cluster relationship record from the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        course_id (int): The unique identifier of the course.</span>
<span class="sd">        cluster_id (int): The unique identifier of the cluster.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: A message confirming successful deletion.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the relationship is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">coursecluster</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">CourseClusterDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
        <span class="n">CourseClusterDB</span><span class="o">.</span><span class="n">course_id</span> <span class="o">==</span> <span class="n">course_id</span><span class="p">,</span>
        <span class="n">CourseClusterDB</span><span class="o">.</span><span class="n">cluster_id</span> <span class="o">==</span> <span class="n">cluster_id</span>
    <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">coursecluster</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Relationship not found&quot;</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">coursecluster</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Relationship deleted successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.delete_department" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_department</span><span class="p">(</span><span class="n">dept_name</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Delete a department by its name from the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>dept_name (str): The name of the department to delete.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: A message confirming successful deletion.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the department is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">853</span>
<span class="normal">854</span>
<span class="normal">855</span>
<span class="normal">856</span>
<span class="normal">857</span>
<span class="normal">858</span>
<span class="normal">859</span>
<span class="normal">860</span>
<span class="normal">861</span>
<span class="normal">862</span>
<span class="normal">863</span>
<span class="normal">864</span>
<span class="normal">865</span>
<span class="normal">866</span>
<span class="normal">867</span>
<span class="normal">868</span>
<span class="normal">869</span>
<span class="normal">870</span>
<span class="normal">871</span>
<span class="normal">872</span>
<span class="normal">873</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/departments/</span><span class="si">{dept_name}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Departments&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_department</span><span class="p">(</span><span class="n">dept_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete a department by its name from the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        dept_name (str): The name of the department to delete.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: A message confirming successful deletion.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the department is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">department</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">DepartmentDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">DepartmentDB</span><span class="o">.</span><span class="n">dept_name</span> <span class="o">==</span> <span class="n">dept_name</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">department</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Department not found&quot;</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">department</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Department deleted successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.delete_draft_schedule" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_draft_schedule</span><span class="p">(</span><span class="n">draft_schedule_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Delete a draft schedule.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>draft_schedule_id (int): The ID of the draft schedule to delete.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: Success message.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the draft schedule is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2258</span>
<span class="normal">2259</span>
<span class="normal">2260</span>
<span class="normal">2261</span>
<span class="normal">2262</span>
<span class="normal">2263</span>
<span class="normal">2264</span>
<span class="normal">2265</span>
<span class="normal">2266</span>
<span class="normal">2267</span>
<span class="normal">2268</span>
<span class="normal">2269</span>
<span class="normal">2270</span>
<span class="normal">2271</span>
<span class="normal">2272</span>
<span class="normal">2273</span>
<span class="normal">2274</span>
<span class="normal">2275</span>
<span class="normal">2276</span>
<span class="normal">2277</span>
<span class="normal">2278</span>
<span class="normal">2279</span>
<span class="normal">2280</span>
<span class="normal">2281</span>
<span class="normal">2282</span>
<span class="normal">2283</span>
<span class="normal">2284</span>
<span class="normal">2285</span>
<span class="normal">2286</span>
<span class="normal">2287</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/draft-schedules/</span><span class="si">{draft_schedule_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Draft Schedules&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_draft_schedule</span><span class="p">(</span>
    <span class="n">draft_schedule_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete a draft schedule.</span>

<span class="sd">    Input:</span>
<span class="sd">        draft_schedule_id (int): The ID of the draft schedule to delete.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: Success message.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the draft schedule is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">schedule</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">DraftScheduleDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
        <span class="n">DraftScheduleDB</span><span class="o">.</span><span class="n">draft_schedule_id</span> <span class="o">==</span> <span class="n">draft_schedule_id</span>
    <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">schedule</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Draft schedule not found&quot;</span><span class="p">)</span>

    <span class="c1"># Cascade delete will handle draft_schedule_sections automatically</span>
    <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Draft schedule deleted successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.delete_hascourse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_hascourse</span><span class="p">(</span><span class="n">prog_name</span><span class="p">,</span> <span class="n">courseid</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Delete a program-course relationship record from the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>prog_name (str): The name of the program.
courseid (int): The unique identifier of the course.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: A message confirming successful deletion.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the relationship is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/hascourse/&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Program Courses&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_hascourse</span><span class="p">(</span><span class="n">prog_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">courseid</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete a program-course relationship record from the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        prog_name (str): The name of the program.</span>
<span class="sd">        courseid (int): The unique identifier of the course.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: A message confirming successful deletion.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the relationship is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">hascourse</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">HasCourseDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
        <span class="n">HasCourseDB</span><span class="o">.</span><span class="n">prog_name</span> <span class="o">==</span> <span class="n">prog_name</span><span class="p">,</span>
        <span class="n">HasCourseDB</span><span class="o">.</span><span class="n">courseid</span> <span class="o">==</span> <span class="n">courseid</span>
    <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">hascourse</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Relationship not found&quot;</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">hascourse</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Relationship deleted successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.delete_instructor" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_instructor</span><span class="p">(</span><span class="n">instructor_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Delete an instructor by their unique ID from the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>instructor_id (int): The unique identifier of the instructor to delete.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: A message confirming successful deletion.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the instructor is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">752</span>
<span class="normal">753</span>
<span class="normal">754</span>
<span class="normal">755</span>
<span class="normal">756</span>
<span class="normal">757</span>
<span class="normal">758</span>
<span class="normal">759</span>
<span class="normal">760</span>
<span class="normal">761</span>
<span class="normal">762</span>
<span class="normal">763</span>
<span class="normal">764</span>
<span class="normal">765</span>
<span class="normal">766</span>
<span class="normal">767</span>
<span class="normal">768</span>
<span class="normal">769</span>
<span class="normal">770</span>
<span class="normal">771</span>
<span class="normal">772</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/instructors/</span><span class="si">{instructor_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Instructors&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_instructor</span><span class="p">(</span><span class="n">instructor_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete an instructor by their unique ID from the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        instructor_id (int): The unique identifier of the instructor to delete.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: A message confirming successful deletion.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the instructor is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">instructor</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">InstructorDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">InstructorDB</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">instructor_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">instructor</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Instructor not found&quot;</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">instructor</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Instructor deleted successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.delete_location" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_location</span><span class="p">(</span><span class="n">room_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Delete a location by its room ID from the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>room_id (int): The unique identifier of the location to delete.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: A message confirming successful deletion.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the location is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/locations/</span><span class="si">{room_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Locations&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_location</span><span class="p">(</span><span class="n">room_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete a location by its room ID from the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        room_id (int): The unique identifier of the location to delete.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: A message confirming successful deletion.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the location is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">location</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">LocationDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">LocationDB</span><span class="o">.</span><span class="n">room_id</span> <span class="o">==</span> <span class="n">room_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">location</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Location not found&quot;</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">location</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Location deleted successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.delete_preferred" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_preferred</span><span class="p">(</span><span class="n">student_id</span><span class="p">,</span> <span class="n">course_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Delete a student-course preference record from the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>student_id (int): The unique identifier of the student.
course_id (int): The unique identifier of the course.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: A message confirming successful deletion.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the preference is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1670</span>
<span class="normal">1671</span>
<span class="normal">1672</span>
<span class="normal">1673</span>
<span class="normal">1674</span>
<span class="normal">1675</span>
<span class="normal">1676</span>
<span class="normal">1677</span>
<span class="normal">1678</span>
<span class="normal">1679</span>
<span class="normal">1680</span>
<span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span>
<span class="normal">1686</span>
<span class="normal">1687</span>
<span class="normal">1688</span>
<span class="normal">1689</span>
<span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/preferred/&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Preferences&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_preferred</span><span class="p">(</span><span class="n">student_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">course_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete a student-course preference record from the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        student_id (int): The unique identifier of the student.</span>
<span class="sd">        course_id (int): The unique identifier of the course.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: A message confirming successful deletion.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the preference is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">preferred</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">PreferredDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
        <span class="n">PreferredDB</span><span class="o">.</span><span class="n">student_id</span> <span class="o">==</span> <span class="n">student_id</span><span class="p">,</span>
        <span class="n">PreferredDB</span><span class="o">.</span><span class="n">course_id</span> <span class="o">==</span> <span class="n">course_id</span>
    <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">preferred</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Preference not found&quot;</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">preferred</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Preference deleted successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.delete_prerequisites" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_prerequisites</span><span class="p">(</span><span class="n">course_id</span><span class="p">,</span> <span class="n">prerequisite_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Delete a prerequisite record from the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>course_id (int): The unique identifier of the course.
prerequisite_id (int): The unique identifier of the prerequisite course.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: A message confirming successful deletion.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the prerequisite is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/prerequisites/&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Prerequisites&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_prerequisites</span><span class="p">(</span><span class="n">course_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">prerequisite_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete a prerequisite record from the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        course_id (int): The unique identifier of the course.</span>
<span class="sd">        prerequisite_id (int): The unique identifier of the prerequisite course.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: A message confirming successful deletion.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the prerequisite is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">prerequisites</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">PrerequisitesDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
        <span class="n">PrerequisitesDB</span><span class="o">.</span><span class="n">course_id</span> <span class="o">==</span> <span class="n">course_id</span><span class="p">,</span>
        <span class="n">PrerequisitesDB</span><span class="o">.</span><span class="n">prerequisite_id</span> <span class="o">==</span> <span class="n">prerequisite_id</span>
    <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">prerequisites</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Prerequisite not found&quot;</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">prerequisites</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Prerequisite deleted successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.delete_program" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_program</span><span class="p">(</span><span class="n">prog_name</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Delete a program by its name from the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>prog_name (str): The name of the program to delete.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: A message confirming successful deletion.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the program is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">954</span>
<span class="normal">955</span>
<span class="normal">956</span>
<span class="normal">957</span>
<span class="normal">958</span>
<span class="normal">959</span>
<span class="normal">960</span>
<span class="normal">961</span>
<span class="normal">962</span>
<span class="normal">963</span>
<span class="normal">964</span>
<span class="normal">965</span>
<span class="normal">966</span>
<span class="normal">967</span>
<span class="normal">968</span>
<span class="normal">969</span>
<span class="normal">970</span>
<span class="normal">971</span>
<span class="normal">972</span>
<span class="normal">973</span>
<span class="normal">974</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/programs/</span><span class="si">{prog_name}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Programs&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_program</span><span class="p">(</span><span class="n">prog_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete a program by its name from the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        prog_name (str): The name of the program to delete.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: A message confirming successful deletion.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the program is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">program</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">ProgramDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ProgramDB</span><span class="o">.</span><span class="n">prog_name</span> <span class="o">==</span> <span class="n">prog_name</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">program</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Program not found&quot;</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Program deleted successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.delete_recommendation_result" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_recommendation_result</span><span class="p">(</span><span class="n">result_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Delete a recommendation result by its unique ID from the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>result_id (int): The unique identifier of the recommendation result to delete.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: A message confirming successful deletion.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the recommendation result is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/recommendation-results/</span><span class="si">{result_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Recommendations&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_recommendation_result</span><span class="p">(</span><span class="n">result_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete a recommendation result by its unique ID from the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        result_id (int): The unique identifier of the recommendation result to delete.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: A message confirming successful deletion.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the recommendation result is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">RecommendationResultDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">RecommendationResultDB</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">result_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Recommendation result not found&quot;</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Recommendation result deleted successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.delete_section" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_section</span><span class="p">(</span><span class="n">section_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Delete a section by its unique ID from the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>section_id (int): The unique identifier of the section to delete.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: A message confirming successful deletion.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the section is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/sections/</span><span class="si">{section_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Sections&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_section</span><span class="p">(</span><span class="n">section_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete a section by its unique ID from the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        section_id (int): The unique identifier of the section to delete.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: A message confirming successful deletion.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the section is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">section</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">SectionDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">SectionDB</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">section_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">section</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Section not found&quot;</span><span class="p">)</span>
        <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
        <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Section deleted successfully&quot;</span><span class="p">}</span>
    <span class="k">except</span> <span class="n">SQLAlchemyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Database error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Error deleting section: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.delete_student" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_student</span><span class="p">(</span><span class="n">student_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Delete a student by their unique ID from the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>student_id (int): The unique identifier of the student to delete.
db (Session): Database session provided by dependency injection.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: A message confirming successful deletion.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the student is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/students/</span><span class="si">{student_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Students&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_student</span><span class="p">(</span><span class="n">student_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete a student by their unique ID from the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        student_id (int): The unique identifier of the student to delete.</span>
<span class="sd">        db (Session): Database session provided by dependency injection.</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: A message confirming successful deletion.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the student is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">student</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">StudentDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">StudentDB</span><span class="o">.</span><span class="n">student_id</span> <span class="o">==</span> <span class="n">student_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">student</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Student not found&quot;</span><span class="p">)</span>
        <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">student</span><span class="p">)</span>
        <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Student deleted successfully&quot;</span><span class="p">}</span>
    <span class="k">except</span> <span class="n">SQLAlchemyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Database error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Error deleting student: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.delete_takes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_takes</span><span class="p">(</span><span class="n">student_id</span><span class="p">,</span> <span class="n">section_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Delete a student enrollment record from the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>student_id (int): The unique identifier of the student.
section_id (int): The unique identifier of the section.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: A message confirming successful deletion.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the enrollment is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span>
<span class="normal">1247</span>
<span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/takes/&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Enrollments&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_takes</span><span class="p">(</span><span class="n">student_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">section_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete a student enrollment record from the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        student_id (int): The unique identifier of the student.</span>
<span class="sd">        section_id (int): The unique identifier of the section.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: A message confirming successful deletion.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the enrollment is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">takes</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">TakesDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
        <span class="n">TakesDB</span><span class="o">.</span><span class="n">student_id</span> <span class="o">==</span> <span class="n">student_id</span><span class="p">,</span>
        <span class="n">TakesDB</span><span class="o">.</span><span class="n">section_id</span> <span class="o">==</span> <span class="n">section_id</span>
    <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">takes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Enrollment not found&quot;</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">takes</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Enrollment deleted successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.delete_timeslot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_timeslot</span><span class="p">(</span><span class="n">time_slot_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Delete a time slot by its unique ID from the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>time_slot_id (int): The unique identifier of the time slot to delete.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: A message confirming successful deletion.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the time slot is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/timeslots/</span><span class="si">{time_slot_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Time Slots&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_timeslot</span><span class="p">(</span><span class="n">time_slot_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete a time slot by its unique ID from the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        time_slot_id (int): The unique identifier of the time slot to delete.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: A message confirming successful deletion.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the time slot is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">timeslot</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">TimeSlotDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">TimeSlotDB</span><span class="o">.</span><span class="n">time_slot_id</span> <span class="o">==</span> <span class="n">time_slot_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">timeslot</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Time slot not found&quot;</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">timeslot</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Time slot deleted successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.delete_works" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_works</span><span class="p">(</span><span class="n">instructorid</span><span class="p">,</span> <span class="n">dept_name</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Delete an instructor-department relationship record from the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>instructorid (int): The unique identifier of the instructor.
dept_name (str): The name of the department.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: A message confirming successful deletion.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the relationship is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="s2">&quot;/works/&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Works&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">delete_works</span><span class="p">(</span><span class="n">instructorid</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">dept_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete an instructor-department relationship record from the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        instructorid (int): The unique identifier of the instructor.</span>
<span class="sd">        dept_name (str): The name of the department.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: A message confirming successful deletion.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the relationship is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">works</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">WorksDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
        <span class="n">WorksDB</span><span class="o">.</span><span class="n">instructorid</span> <span class="o">==</span> <span class="n">instructorid</span><span class="p">,</span>
        <span class="n">WorksDB</span><span class="o">.</span><span class="n">dept_name</span> <span class="o">==</span> <span class="n">dept_name</span>
    <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">works</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Relationship not found&quot;</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">works</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;Relationship deleted successfully&quot;</span><span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.generate_recommendations" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_recommendations</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Generate recommendations for a specific student with the given time preference.
This will delete existing recommendations for the student and create new ones.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>student_id (int): The student ID to generate recommendations for
time_preference (str): Time preference ('morning', 'afternoon', 'evening', 'any')
semester (str): Semester ('Fall', 'Spring', 'Summer')
year (int): Academic year</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: Success message and count of recommendations generated</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span>
<span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span>
<span class="normal">1969</span>
<span class="normal">1970</span>
<span class="normal">1971</span>
<span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span>
<span class="normal">1978</span>
<span class="normal">1979</span>
<span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span>
<span class="normal">1989</span>
<span class="normal">1990</span>
<span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span>
<span class="normal">1994</span>
<span class="normal">1995</span>
<span class="normal">1996</span>
<span class="normal">1997</span>
<span class="normal">1998</span>
<span class="normal">1999</span>
<span class="normal">2000</span>
<span class="normal">2001</span>
<span class="normal">2002</span>
<span class="normal">2003</span>
<span class="normal">2004</span>
<span class="normal">2005</span>
<span class="normal">2006</span>
<span class="normal">2007</span>
<span class="normal">2008</span>
<span class="normal">2009</span>
<span class="normal">2010</span>
<span class="normal">2011</span>
<span class="normal">2012</span>
<span class="normal">2013</span>
<span class="normal">2014</span>
<span class="normal">2015</span>
<span class="normal">2016</span>
<span class="normal">2017</span>
<span class="normal">2018</span>
<span class="normal">2019</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/recommendations/generate&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Recommendations&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">generate_recommendations</span><span class="p">(</span>
    <span class="n">request</span><span class="p">:</span> <span class="n">GenerateRecommendationRequest</span><span class="p">,</span>
    <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate recommendations for a specific student with the given time preference.</span>
<span class="sd">    This will delete existing recommendations for the student and create new ones.</span>

<span class="sd">    Input:</span>
<span class="sd">        student_id (int): The student ID to generate recommendations for</span>
<span class="sd">        time_preference (str): Time preference (&#39;morning&#39;, &#39;afternoon&#39;, &#39;evening&#39;, &#39;any&#39;)</span>
<span class="sd">        semester (str): Semester (&#39;Fall&#39;, &#39;Spring&#39;, &#39;Summer&#39;)</span>
<span class="sd">        year (int): Academic year</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: Success message and count of recommendations generated</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">generate_recommendations_for_student</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
            <span class="n">status_code</span><span class="o">=</span><span class="mi">503</span><span class="p">,</span>
            <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Recommendation service unavailable. Shared module not found. Please check Docker volumes.&quot;</span>
        <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Validate time preference</span>
        <span class="n">valid_preferences</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;morning&#39;</span><span class="p">,</span> <span class="s1">&#39;afternoon&#39;</span><span class="p">,</span> <span class="s1">&#39;evening&#39;</span><span class="p">,</span> <span class="s1">&#39;any&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">time_preference</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_preferences</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                <span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
                <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invalid time_preference. Must be one of: </span><span class="si">{</span><span class="n">valid_preferences</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Check if student exists</span>
        <span class="n">student</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">StudentDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">StudentDB</span><span class="o">.</span><span class="n">student_id</span> <span class="o">==</span> <span class="n">request</span><span class="o">.</span><span class="n">student_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">student</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Student with ID </span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">student_id</span><span class="si">}</span><span class="s2"> not found&quot;</span><span class="p">)</span>

        <span class="c1"># Delete existing recommendations for this student</span>
        <span class="n">existing</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">RecommendationResultDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
            <span class="n">RecommendationResultDB</span><span class="o">.</span><span class="n">student_id</span> <span class="o">==</span> <span class="n">request</span><span class="o">.</span><span class="n">student_id</span>
        <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">existing</span><span class="p">:</span>
            <span class="n">db</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">rec</span><span class="p">)</span>
        <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="c1"># Generate new recommendations</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Generating recommendations for student </span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">student_id</span><span class="si">}</span><span class="s2"> with time_preference: &#39;</span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">time_preference</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
        <span class="n">recommendations</span> <span class="o">=</span> <span class="n">generate_recommendations_for_student</span><span class="p">(</span>
            <span class="n">engine</span><span class="o">=</span><span class="n">engine</span><span class="p">,</span>
            <span class="n">student_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">student_id</span><span class="p">,</span>
            <span class="n">time_preference</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">time_preference</span><span class="p">,</span>
            <span class="n">current_year</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">year</span><span class="p">,</span>
            <span class="n">current_semester</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">semester</span>
        <span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; Generated </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">recommendations</span><span class="p">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">recommendations</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="mi">0</span><span class="si">}</span><span class="s2"> recommendations&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">recommendations</span><span class="p">:</span>
            <span class="c1"># Log first few recommendations to see their section IDs</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">rec</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">recommendations</span><span class="p">[:</span><span class="mi">3</span><span class="p">]):</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Rec </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">: course_id=</span><span class="si">{</span><span class="n">rec</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;course_id&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">, section_id=</span><span class="si">{</span><span class="n">rec</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;section_id&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">, course_name=</span><span class="si">{</span><span class="n">rec</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;course_name&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">recommendations</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;No recommendations generated for student </span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">student_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">}</span>

        <span class="c1"># Save recommendations to database</span>
        <span class="n">saved_count</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">slot_num</span><span class="p">,</span> <span class="n">rec</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">recommendations</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="c1"># Get time_slot_id from section</span>
            <span class="n">section_id</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">rec</span><span class="p">[</span><span class="s1">&#39;section_id&#39;</span><span class="p">])</span>
            <span class="n">section</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">SectionDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">SectionDB</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">section_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
            <span class="n">time_slot_id</span> <span class="o">=</span> <span class="n">section</span><span class="o">.</span><span class="n">time_slot_id</span> <span class="k">if</span> <span class="n">section</span> <span class="k">else</span> <span class="kc">None</span>

            <span class="c1"># Convert why_recommended list to string</span>
            <span class="n">why_recommended_str</span> <span class="o">=</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">rec</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;why_recommended&#39;</span><span class="p">,</span> <span class="p">[]))</span>

            <span class="n">result_data</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;student_id&#39;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">student_id</span><span class="p">,</span>
                <span class="s1">&#39;course_id&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">rec</span><span class="p">[</span><span class="s1">&#39;course_id&#39;</span><span class="p">]),</span>
                <span class="s1">&#39;recommended_section_id&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">rec</span><span class="p">[</span><span class="s1">&#39;section_id&#39;</span><span class="p">]),</span>
                <span class="s1">&#39;course_name&#39;</span><span class="p">:</span> <span class="n">rec</span><span class="p">[</span><span class="s1">&#39;course_name&#39;</span><span class="p">],</span>
                <span class="s1">&#39;cluster&#39;</span><span class="p">:</span> <span class="n">rec</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;cluster&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span>
                <span class="s1">&#39;credits&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">rec</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;credits&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)),</span>
                <span class="s1">&#39;time_slot&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">time_slot_id</span><span class="p">)</span> <span class="k">if</span> <span class="n">time_slot_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s1">&#39;recommendation_score&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">rec</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;score&#39;</span><span class="p">,</span> <span class="s1">&#39;1.0&#39;</span><span class="p">)),</span>
                <span class="s1">&#39;why_recommended&#39;</span><span class="p">:</span> <span class="n">why_recommended_str</span><span class="p">,</span>
                <span class="s1">&#39;slot_number&#39;</span><span class="p">:</span> <span class="n">slot_num</span><span class="p">,</span>
                <span class="s1">&#39;model_version&#39;</span><span class="p">:</span> <span class="s1">&#39;semester_scheduler_v1&#39;</span><span class="p">,</span>
                <span class="s1">&#39;time_preference&#39;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">time_preference</span><span class="p">,</span>
                <span class="s1">&#39;semester&#39;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">semester</span><span class="p">,</span>
                <span class="s1">&#39;year&#39;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">year</span>
            <span class="p">}</span>

            <span class="n">db_recommendation</span> <span class="o">=</span> <span class="n">RecommendationResultDB</span><span class="p">(</span><span class="o">**</span><span class="n">result_data</span><span class="p">)</span>
            <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">db_recommendation</span><span class="p">)</span>
            <span class="n">saved_count</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Successfully generated </span><span class="si">{</span><span class="n">saved_count</span><span class="si">}</span><span class="s2"> recommendations for student </span><span class="si">{</span><span class="n">request</span><span class="o">.</span><span class="n">student_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="n">saved_count</span><span class="p">,</span>
            <span class="s2">&quot;time_preference&quot;</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">time_preference</span>
        <span class="p">}</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Error generating recommendations: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_cluster" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_cluster</span><span class="p">(</span><span class="n">cluster_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Retrieve a cluster by its unique ID.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>cluster_id (int): The unique identifier of the cluster.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Cluster: The cluster's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the cluster is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/clusters/</span><span class="si">{cluster_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Cluster</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Clusters&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_cluster</span><span class="p">(</span><span class="n">cluster_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve a cluster by its unique ID.</span>

<span class="sd">    Input:</span>
<span class="sd">        cluster_id (int): The unique identifier of the cluster.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Cluster: The cluster&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the cluster is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cluster</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">ClusterDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ClusterDB</span><span class="o">.</span><span class="n">cluster_id</span> <span class="o">==</span> <span class="n">cluster_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">cluster</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Cluster not found&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cluster</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_clusters" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_clusters</span><span class="p">(</span><span class="n">prog_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get all clusters with optional filtering by program name.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>prog_name (Optional[str]): Filter by program name.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>list[Cluster]: List of clusters.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/clusters&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">Cluster</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Clusters&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_clusters</span><span class="p">(</span><span class="n">prog_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all clusters with optional filtering by program name.</span>

<span class="sd">    Input:</span>
<span class="sd">        prog_name (Optional[str]): Filter by program name.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        list[Cluster]: List of clusters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">ClusterDB</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">prog_name</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ClusterDB</span><span class="o">.</span><span class="n">prog_name</span> <span class="o">==</span> <span class="n">prog_name</span><span class="p">)</span>
    <span class="n">clusters</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">clusters</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_course" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_course</span><span class="p">(</span><span class="n">course_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Retrieve a course by its unique ID.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>course_id (int): The unique identifier of the course.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Course: The course's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the course is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/courses/</span><span class="si">{course_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Course</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Courses&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_course</span><span class="p">(</span><span class="n">course_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve a course by its unique ID.</span>

<span class="sd">    Input:</span>
<span class="sd">        course_id (int): The unique identifier of the course.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Course: The course&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the course is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">course</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">CourseDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">CourseDB</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">course_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">course</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Course not found&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">course</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_coursecluster" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_coursecluster</span><span class="p">(</span><span class="n">course_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">cluster_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get all course-cluster relationships with optional filtering.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>course_id (Optional[int]): Filter by course ID.
cluster_id (Optional[int]): Filter by cluster ID.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>list[CourseCluster]: List of course-cluster relationships.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/coursecluster&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">CourseCluster</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Course Clusters&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_coursecluster</span><span class="p">(</span><span class="n">course_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">cluster_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all course-cluster relationships with optional filtering.</span>

<span class="sd">    Input:</span>
<span class="sd">        course_id (Optional[int]): Filter by course ID.</span>
<span class="sd">        cluster_id (Optional[int]): Filter by cluster ID.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        list[CourseCluster]: List of course-cluster relationships.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">CourseClusterDB</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">course_id</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">CourseClusterDB</span><span class="o">.</span><span class="n">course_id</span> <span class="o">==</span> <span class="n">course_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">cluster_id</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">CourseClusterDB</span><span class="o">.</span><span class="n">cluster_id</span> <span class="o">==</span> <span class="n">cluster_id</span><span class="p">)</span>
    <span class="n">courseclusters</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">courseclusters</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_courses" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_courses</span><span class="p">(</span><span class="n">skip</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get all courses with pagination.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>skip (int): Number of records to skip, default 0.
limit (int): Maximum number of records to return, default 100.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>list[Course]: List of courses.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/courses&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">Course</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Courses&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_courses</span><span class="p">(</span><span class="n">skip</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all courses with pagination.</span>

<span class="sd">    Input:</span>
<span class="sd">        skip (int): Number of records to skip, default 0.</span>
<span class="sd">        limit (int): Maximum number of records to return, default 100.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        list[Course]: List of courses.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">courses</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">CourseDB</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">(</span><span class="n">skip</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">limit</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">courses</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_department" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_department</span><span class="p">(</span><span class="n">dept_name</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Retrieve a department by its name.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>dept_name (str): The name of the department.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Department: The department's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the department is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">790</span>
<span class="normal">791</span>
<span class="normal">792</span>
<span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span>
<span class="normal">802</span>
<span class="normal">803</span>
<span class="normal">804</span>
<span class="normal">805</span>
<span class="normal">806</span>
<span class="normal">807</span>
<span class="normal">808</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/departments/</span><span class="si">{dept_name}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Department</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Departments&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_department</span><span class="p">(</span><span class="n">dept_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve a department by its name.</span>

<span class="sd">    Input:</span>
<span class="sd">        dept_name (str): The name of the department.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Department: The department&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the department is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">department</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">DepartmentDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">DepartmentDB</span><span class="o">.</span><span class="n">dept_name</span> <span class="o">==</span> <span class="n">dept_name</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">department</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Department not found&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">department</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_departments" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_departments</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get all departments.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>list[Department]: List of departments.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">776</span>
<span class="normal">777</span>
<span class="normal">778</span>
<span class="normal">779</span>
<span class="normal">780</span>
<span class="normal">781</span>
<span class="normal">782</span>
<span class="normal">783</span>
<span class="normal">784</span>
<span class="normal">785</span>
<span class="normal">786</span>
<span class="normal">787</span>
<span class="normal">788</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/departments&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">Department</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Departments&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_departments</span><span class="p">(</span><span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all departments.</span>

<span class="sd">    Input:</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        list[Department]: List of departments.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">departments</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">DepartmentDB</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">departments</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_draft_schedule" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_draft_schedule</span><span class="p">(</span><span class="n">draft_schedule_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get a specific draft schedule by ID.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>draft_schedule_id (int): The ID of the draft schedule.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>DraftSchedule: The draft schedule with its section IDs.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the draft schedule is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2065</span>
<span class="normal">2066</span>
<span class="normal">2067</span>
<span class="normal">2068</span>
<span class="normal">2069</span>
<span class="normal">2070</span>
<span class="normal">2071</span>
<span class="normal">2072</span>
<span class="normal">2073</span>
<span class="normal">2074</span>
<span class="normal">2075</span>
<span class="normal">2076</span>
<span class="normal">2077</span>
<span class="normal">2078</span>
<span class="normal">2079</span>
<span class="normal">2080</span>
<span class="normal">2081</span>
<span class="normal">2082</span>
<span class="normal">2083</span>
<span class="normal">2084</span>
<span class="normal">2085</span>
<span class="normal">2086</span>
<span class="normal">2087</span>
<span class="normal">2088</span>
<span class="normal">2089</span>
<span class="normal">2090</span>
<span class="normal">2091</span>
<span class="normal">2092</span>
<span class="normal">2093</span>
<span class="normal">2094</span>
<span class="normal">2095</span>
<span class="normal">2096</span>
<span class="normal">2097</span>
<span class="normal">2098</span>
<span class="normal">2099</span>
<span class="normal">2100</span>
<span class="normal">2101</span>
<span class="normal">2102</span>
<span class="normal">2103</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/draft-schedules/</span><span class="si">{draft_schedule_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">DraftSchedule</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Draft Schedules&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_draft_schedule</span><span class="p">(</span>
    <span class="n">draft_schedule_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get a specific draft schedule by ID.</span>

<span class="sd">    Input:</span>
<span class="sd">        draft_schedule_id (int): The ID of the draft schedule.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        DraftSchedule: The draft schedule with its section IDs.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the draft schedule is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">schedule</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">DraftScheduleDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
        <span class="n">DraftScheduleDB</span><span class="o">.</span><span class="n">draft_schedule_id</span> <span class="o">==</span> <span class="n">draft_schedule_id</span>
    <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">schedule</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Draft schedule not found&quot;</span><span class="p">)</span>

    <span class="c1"># Get section IDs for this schedule</span>
    <span class="n">section_ids</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">DraftScheduleSectionDB</span><span class="o">.</span><span class="n">section_id</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
        <span class="n">DraftScheduleSectionDB</span><span class="o">.</span><span class="n">draft_schedule_id</span> <span class="o">==</span> <span class="n">schedule</span><span class="o">.</span><span class="n">draft_schedule_id</span>
    <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">section_id_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">sid</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">sid</span> <span class="ow">in</span> <span class="n">section_ids</span><span class="p">]</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;draft_schedule_id&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">draft_schedule_id</span><span class="p">,</span>
        <span class="s2">&quot;student_id&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">student_id</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">created_at</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">created_at</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;updated_at&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">updated_at</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">updated_at</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;section_ids&quot;</span><span class="p">:</span> <span class="n">section_id_list</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_draft_schedules" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_draft_schedules</span><span class="p">(</span><span class="n">student_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get all draft schedules, optionally filtered by student_id.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>student_id (Optional[int]): Filter by student ID. If not provided, returns all schedules.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>list[DraftSchedule]: List of draft schedules with their section IDs.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2023</span>
<span class="normal">2024</span>
<span class="normal">2025</span>
<span class="normal">2026</span>
<span class="normal">2027</span>
<span class="normal">2028</span>
<span class="normal">2029</span>
<span class="normal">2030</span>
<span class="normal">2031</span>
<span class="normal">2032</span>
<span class="normal">2033</span>
<span class="normal">2034</span>
<span class="normal">2035</span>
<span class="normal">2036</span>
<span class="normal">2037</span>
<span class="normal">2038</span>
<span class="normal">2039</span>
<span class="normal">2040</span>
<span class="normal">2041</span>
<span class="normal">2042</span>
<span class="normal">2043</span>
<span class="normal">2044</span>
<span class="normal">2045</span>
<span class="normal">2046</span>
<span class="normal">2047</span>
<span class="normal">2048</span>
<span class="normal">2049</span>
<span class="normal">2050</span>
<span class="normal">2051</span>
<span class="normal">2052</span>
<span class="normal">2053</span>
<span class="normal">2054</span>
<span class="normal">2055</span>
<span class="normal">2056</span>
<span class="normal">2057</span>
<span class="normal">2058</span>
<span class="normal">2059</span>
<span class="normal">2060</span>
<span class="normal">2061</span>
<span class="normal">2062</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/draft-schedules&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">DraftSchedule</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Draft Schedules&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_draft_schedules</span><span class="p">(</span>
    <span class="n">student_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all draft schedules, optionally filtered by student_id.</span>

<span class="sd">    Input:</span>
<span class="sd">        student_id (Optional[int]): Filter by student ID. If not provided, returns all schedules.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        list[DraftSchedule]: List of draft schedules with their section IDs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">DraftScheduleDB</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">student_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">DraftScheduleDB</span><span class="o">.</span><span class="n">student_id</span> <span class="o">==</span> <span class="n">student_id</span><span class="p">)</span>

    <span class="n">schedules</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">DraftScheduleDB</span><span class="o">.</span><span class="n">created_at</span><span class="o">.</span><span class="n">desc</span><span class="p">())</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">schedule</span> <span class="ow">in</span> <span class="n">schedules</span><span class="p">:</span>
        <span class="c1"># Get section IDs for this schedule</span>
        <span class="n">section_ids</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">DraftScheduleSectionDB</span><span class="o">.</span><span class="n">section_id</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
            <span class="n">DraftScheduleSectionDB</span><span class="o">.</span><span class="n">draft_schedule_id</span> <span class="o">==</span> <span class="n">schedule</span><span class="o">.</span><span class="n">draft_schedule_id</span>
        <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="n">section_id_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">sid</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">sid</span> <span class="ow">in</span> <span class="n">section_ids</span><span class="p">]</span>

        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s2">&quot;draft_schedule_id&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">draft_schedule_id</span><span class="p">,</span>
            <span class="s2">&quot;student_id&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">student_id</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">created_at</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">created_at</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;updated_at&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">updated_at</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">updated_at</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;section_ids&quot;</span><span class="p">:</span> <span class="n">section_id_list</span>
        <span class="p">})</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_hascourse" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_hascourse</span><span class="p">(</span><span class="n">prog_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">courseid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get all program-course relationships with optional filtering.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>prog_name (Optional[str]): Filter by program name.
courseid (Optional[int]): Filter by course ID.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>list[HasCourse]: List of program-course relationships.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/hascourse&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">HasCourse</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Program Courses&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_hascourse</span><span class="p">(</span><span class="n">prog_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">courseid</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all program-course relationships with optional filtering.</span>

<span class="sd">    Input:</span>
<span class="sd">        prog_name (Optional[str]): Filter by program name.</span>
<span class="sd">        courseid (Optional[int]): Filter by course ID.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        list[HasCourse]: List of program-course relationships.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">HasCourseDB</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">prog_name</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">HasCourseDB</span><span class="o">.</span><span class="n">prog_name</span> <span class="o">==</span> <span class="n">prog_name</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">courseid</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">HasCourseDB</span><span class="o">.</span><span class="n">courseid</span> <span class="o">==</span> <span class="n">courseid</span><span class="p">)</span>
    <span class="n">hascourse</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">hascourse</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_instructor" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_instructor</span><span class="p">(</span><span class="n">instructor_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Retrieve an instructor by their unique ID.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>instructor_id (int): The unique identifier of the instructor.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Instructor: The instructor's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the instructor is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/instructors/</span><span class="si">{instructor_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Instructor</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Instructors&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_instructor</span><span class="p">(</span><span class="n">instructor_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve an instructor by their unique ID.</span>

<span class="sd">    Input:</span>
<span class="sd">        instructor_id (int): The unique identifier of the instructor.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Instructor: The instructor&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the instructor is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">instructor</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">InstructorDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">InstructorDB</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">instructor_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">instructor</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Instructor not found&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">instructor</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_instructors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_instructors</span><span class="p">(</span><span class="n">skip</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get all instructors with pagination.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>skip (int): Number of records to skip, default 0.
limit (int): Maximum number of records to return, default 100.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>list[Instructor]: List of instructors.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/instructors&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">Instructor</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Instructors&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_instructors</span><span class="p">(</span><span class="n">skip</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all instructors with pagination.</span>

<span class="sd">    Input:</span>
<span class="sd">        skip (int): Number of records to skip, default 0.</span>
<span class="sd">        limit (int): Maximum number of records to return, default 100.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        list[Instructor]: List of instructors.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">instructors</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">InstructorDB</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">(</span><span class="n">skip</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">limit</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">instructors</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_location" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_location</span><span class="p">(</span><span class="n">room_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Retrieve a location by its room ID.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>room_id (int): The unique identifier of the location.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Location: The location's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the location is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/locations/</span><span class="si">{room_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Location</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Locations&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_location</span><span class="p">(</span><span class="n">room_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve a location by its room ID.</span>

<span class="sd">    Input:</span>
<span class="sd">        room_id (int): The unique identifier of the location.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Location: The location&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the location is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">location</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">LocationDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">LocationDB</span><span class="o">.</span><span class="n">room_id</span> <span class="o">==</span> <span class="n">room_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">location</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Location not found&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">location</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_locations" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_locations</span><span class="p">(</span><span class="n">skip</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get all locations with pagination.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>skip (int): Number of records to skip, default 0.
limit (int): Maximum number of records to return, default 100.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>list[Location]: List of locations.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">978</span>
<span class="normal">979</span>
<span class="normal">980</span>
<span class="normal">981</span>
<span class="normal">982</span>
<span class="normal">983</span>
<span class="normal">984</span>
<span class="normal">985</span>
<span class="normal">986</span>
<span class="normal">987</span>
<span class="normal">988</span>
<span class="normal">989</span>
<span class="normal">990</span>
<span class="normal">991</span>
<span class="normal">992</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/locations&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">Location</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Locations&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_locations</span><span class="p">(</span><span class="n">skip</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all locations with pagination.</span>

<span class="sd">    Input:</span>
<span class="sd">        skip (int): Number of records to skip, default 0.</span>
<span class="sd">        limit (int): Maximum number of records to return, default 100.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        list[Location]: List of locations.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">locations</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">LocationDB</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">(</span><span class="n">skip</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">limit</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">locations</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_preferred" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_preferred</span><span class="p">(</span><span class="n">student_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">course_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get all student-course preferences with optional filtering.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>student_id (Optional[int]): Filter by student ID.
course_id (Optional[int]): Filter by course ID.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>list[Preferred]: List of student-course preferences.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span>
<span class="normal">1638</span>
<span class="normal">1639</span>
<span class="normal">1640</span>
<span class="normal">1641</span>
<span class="normal">1642</span>
<span class="normal">1643</span>
<span class="normal">1644</span>
<span class="normal">1645</span>
<span class="normal">1646</span>
<span class="normal">1647</span>
<span class="normal">1648</span>
<span class="normal">1649</span>
<span class="normal">1650</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/preferred&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">Preferred</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Preferences&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_preferred</span><span class="p">(</span><span class="n">student_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">course_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all student-course preferences with optional filtering.</span>

<span class="sd">    Input:</span>
<span class="sd">        student_id (Optional[int]): Filter by student ID.</span>
<span class="sd">        course_id (Optional[int]): Filter by course ID.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        list[Preferred]: List of student-course preferences.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">PreferredDB</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">student_id</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">PreferredDB</span><span class="o">.</span><span class="n">student_id</span> <span class="o">==</span> <span class="n">student_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">course_id</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">PreferredDB</span><span class="o">.</span><span class="n">course_id</span> <span class="o">==</span> <span class="n">course_id</span><span class="p">)</span>
    <span class="n">preferred</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">preferred</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_prerequisites" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_prerequisites</span><span class="p">(</span><span class="n">course_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get all prerequisites with optional filtering by course ID.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>course_id (Optional[int]): Filter by course ID.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>list[Prerequisites]: List of prerequisite records.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/prerequisites&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">Prerequisites</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Prerequisites&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_prerequisites</span><span class="p">(</span><span class="n">course_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all prerequisites with optional filtering by course ID.</span>

<span class="sd">    Input:</span>
<span class="sd">        course_id (Optional[int]): Filter by course ID.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        list[Prerequisites]: List of prerequisite records.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">PrerequisitesDB</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">course_id</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">PrerequisitesDB</span><span class="o">.</span><span class="n">course_id</span> <span class="o">==</span> <span class="n">course_id</span><span class="p">)</span>
    <span class="n">prerequisites</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">prerequisites</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_program" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_program</span><span class="p">(</span><span class="n">prog_name</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Retrieve a program by its name.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>prog_name (str): The name of the program.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Program: The program's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the program is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">891</span>
<span class="normal">892</span>
<span class="normal">893</span>
<span class="normal">894</span>
<span class="normal">895</span>
<span class="normal">896</span>
<span class="normal">897</span>
<span class="normal">898</span>
<span class="normal">899</span>
<span class="normal">900</span>
<span class="normal">901</span>
<span class="normal">902</span>
<span class="normal">903</span>
<span class="normal">904</span>
<span class="normal">905</span>
<span class="normal">906</span>
<span class="normal">907</span>
<span class="normal">908</span>
<span class="normal">909</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/programs/</span><span class="si">{prog_name}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Program</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Programs&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_program</span><span class="p">(</span><span class="n">prog_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve a program by its name.</span>

<span class="sd">    Input:</span>
<span class="sd">        prog_name (str): The name of the program.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Program: The program&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the program is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">program</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">ProgramDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ProgramDB</span><span class="o">.</span><span class="n">prog_name</span> <span class="o">==</span> <span class="n">prog_name</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">program</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Program not found&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">program</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_programs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_programs</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get all programs.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>list[Program]: List of programs.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">877</span>
<span class="normal">878</span>
<span class="normal">879</span>
<span class="normal">880</span>
<span class="normal">881</span>
<span class="normal">882</span>
<span class="normal">883</span>
<span class="normal">884</span>
<span class="normal">885</span>
<span class="normal">886</span>
<span class="normal">887</span>
<span class="normal">888</span>
<span class="normal">889</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/programs&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">Program</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Programs&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_programs</span><span class="p">(</span><span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all programs.</span>

<span class="sd">    Input:</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        list[Program]: List of programs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">programs</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">ProgramDB</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">programs</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_recommendation_result" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_recommendation_result</span><span class="p">(</span><span class="n">result_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Retrieve a recommendation result by its unique ID.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>result_id (int): The unique identifier of the recommendation result.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>RecommendationResult: The recommendation result's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the recommendation result is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span>
<span class="normal">1778</span>
<span class="normal">1779</span>
<span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/recommendation-results/</span><span class="si">{result_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">RecommendationResult</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Recommendations&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_recommendation_result</span><span class="p">(</span><span class="n">result_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve a recommendation result by its unique ID.</span>

<span class="sd">    Input:</span>
<span class="sd">        result_id (int): The unique identifier of the recommendation result.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        RecommendationResult: The recommendation result&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the recommendation result is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">RecommendationResultDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">RecommendationResultDB</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">result_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Recommendation result not found&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="s2">&quot;student_id&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">student_id</span><span class="p">,</span>
        <span class="s2">&quot;course_id&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">course_id</span><span class="p">,</span>
        <span class="s2">&quot;recommended_section_id&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">recommended_section_id</span><span class="p">,</span>
        <span class="s2">&quot;course_name&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">course_name</span><span class="p">,</span>
        <span class="s2">&quot;cluster&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">cluster</span><span class="p">,</span>
        <span class="s2">&quot;credits&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">credits</span><span class="p">,</span>
        <span class="s2">&quot;time_slot&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">time_slot</span><span class="p">,</span>
        <span class="s2">&quot;recommendation_score&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">recommendation_score</span><span class="p">,</span>
        <span class="s2">&quot;why_recommended&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">why_recommended</span><span class="p">,</span>
        <span class="s2">&quot;slot_number&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">slot_number</span><span class="p">,</span>
        <span class="s2">&quot;model_version&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">model_version</span><span class="p">,</span>
        <span class="s2">&quot;time_preference&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">time_preference</span><span class="p">,</span>
        <span class="s2">&quot;semester&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">semester</span><span class="p">,</span>
        <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">year</span><span class="p">,</span>
        <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">created_at</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">created_at</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;updated_at&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">updated_at</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">updated_at</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_recommendation_results" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_recommendation_results</span><span class="p">(</span><span class="n">student_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">semester</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">year</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get all recommendation results with optional filtering by student, semester, and year.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>student_id (Optional[int]): Filter by student ID.
semester (Optional[str]): Filter by semester (e.g., 'Fall', 'Spring', 'Summer').
year (Optional[int]): Filter by year.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>list[RecommendationResult]: List of recommendation results.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/recommendation-results&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">RecommendationResult</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Recommendations&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_recommendation_results</span><span class="p">(</span>
    <span class="n">student_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">semester</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">year</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all recommendation results with optional filtering by student, semester, and year.</span>

<span class="sd">    Input:</span>
<span class="sd">        student_id (Optional[int]): Filter by student ID.</span>
<span class="sd">        semester (Optional[str]): Filter by semester (e.g., &#39;Fall&#39;, &#39;Spring&#39;, &#39;Summer&#39;).</span>
<span class="sd">        year (Optional[int]): Filter by year.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        list[RecommendationResult]: List of recommendation results.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">RecommendationResultDB</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">student_id</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">RecommendationResultDB</span><span class="o">.</span><span class="n">student_id</span> <span class="o">==</span> <span class="n">student_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">semester</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">RecommendationResultDB</span><span class="o">.</span><span class="n">semester</span> <span class="o">==</span> <span class="n">semester</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">year</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">RecommendationResultDB</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="n">year</span><span class="p">)</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">RecommendationResultDB</span><span class="o">.</span><span class="n">created_at</span><span class="o">.</span><span class="n">desc</span><span class="p">())</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

    <span class="c1"># Format response with ISO timestamps</span>
    <span class="n">formatted_results</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
        <span class="n">result_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s2">&quot;student_id&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">student_id</span><span class="p">,</span>
            <span class="s2">&quot;course_id&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">course_id</span><span class="p">,</span>
            <span class="s2">&quot;recommended_section_id&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">recommended_section_id</span><span class="p">,</span>
            <span class="s2">&quot;course_name&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">course_name</span><span class="p">,</span>
            <span class="s2">&quot;cluster&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">cluster</span><span class="p">,</span>
            <span class="s2">&quot;credits&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">credits</span><span class="p">,</span>
            <span class="s2">&quot;time_slot&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">time_slot</span><span class="p">,</span>
            <span class="s2">&quot;recommendation_score&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">recommendation_score</span><span class="p">,</span>
            <span class="s2">&quot;why_recommended&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">why_recommended</span><span class="p">,</span>
            <span class="s2">&quot;slot_number&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">slot_number</span><span class="p">,</span>
            <span class="s2">&quot;model_version&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">model_version</span><span class="p">,</span>
            <span class="s2">&quot;time_preference&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">time_preference</span><span class="p">,</span>
            <span class="s2">&quot;semester&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">semester</span><span class="p">,</span>
            <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">year</span><span class="p">,</span>
            <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">created_at</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">created_at</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;updated_at&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">updated_at</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">updated_at</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="p">}</span>
        <span class="n">formatted_results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">result_dict</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">formatted_results</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_section" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_section</span><span class="p">(</span><span class="n">section_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Retrieve a section by its unique ID.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>section_id (int): The unique identifier of the section.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Section: The section's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the section is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/sections/</span><span class="si">{section_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Section</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Sections&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_section</span><span class="p">(</span><span class="n">section_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve a section by its unique ID.</span>

<span class="sd">    Input:</span>
<span class="sd">        section_id (int): The unique identifier of the section.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Section: The section&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the section is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">section</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">SectionDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">SectionDB</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">section_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">section</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Section not found&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">section</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_sections" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_sections</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">semester</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">course_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">search</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">



<details class="description" open>
  <summary>Description</summary>
  <p>Get all sections with optional filtering by year, semester, course type, and search text.
Returns sections with joined data from courses, instructors, time slots, and locations for frontend display.</p>
</details>

<details class="input" open>
  <summary>Input</summary>
  <p>year (Optional[int]): Filter by year.
semester (Optional[str]): Filter by semester (e.g., 'Fall', 'Spring', 'Summer').
course_type (Optional[str]): Filter by course type (GenEd, Major, Elective).
search (Optional[str]): Search by course name.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>list[dict]: List of sections with joined course, instructor, time slot, and location data.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/sections&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Sections&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_sections</span><span class="p">(</span>
    <span class="n">year</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">semester</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">course_type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">search</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>
<span class="sd">        Get all sections with optional filtering by year, semester, course type, and search text.</span>
<span class="sd">        Returns sections with joined data from courses, instructors, time slots, and locations for frontend display.</span>

<span class="sd">    Input:</span>
<span class="sd">        year (Optional[int]): Filter by year.</span>
<span class="sd">        semester (Optional[str]): Filter by semester (e.g., &#39;Fall&#39;, &#39;Spring&#39;, &#39;Summer&#39;).</span>
<span class="sd">        course_type (Optional[str]): Filter by course type (GenEd, Major, Elective).</span>
<span class="sd">        search (Optional[str]): Search by course name.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        list[dict]: List of sections with joined course, instructor, time slot, and location data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Filter by course type if provided - course_type is now the program name directly</span>
    <span class="n">filtered_course_ids</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">course_type</span> <span class="ow">and</span> <span class="n">course_type</span> <span class="o">!=</span> <span class="s2">&quot;All&quot;</span><span class="p">:</span>
        <span class="c1"># Get course IDs that belong to this program</span>
        <span class="n">course_id_list</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">HasCourseDB</span><span class="o">.</span><span class="n">courseid</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
            <span class="n">HasCourseDB</span><span class="o">.</span><span class="n">prog_name</span> <span class="o">==</span> <span class="n">course_type</span>
        <span class="p">)</span><span class="o">.</span><span class="n">distinct</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="n">filtered_course_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">cid</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">cid</span> <span class="ow">in</span> <span class="n">course_id_list</span><span class="p">]</span>

    <span class="c1"># Start with sections and join related tables</span>
    <span class="n">query</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
        <span class="n">SectionDB</span><span class="p">,</span> <span class="n">CourseDB</span><span class="p">,</span> <span class="n">InstructorDB</span><span class="p">,</span> <span class="n">TimeSlotDB</span><span class="p">,</span> <span class="n">LocationDB</span><span class="p">,</span> <span class="n">SectionNameDB</span>
    <span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">CourseDB</span><span class="p">,</span> <span class="n">SectionDB</span><span class="o">.</span><span class="n">course_id</span> <span class="o">==</span> <span class="n">CourseDB</span><span class="o">.</span><span class="n">id</span>
    <span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">InstructorDB</span><span class="p">,</span> <span class="n">SectionDB</span><span class="o">.</span><span class="n">instructor_id</span> <span class="o">==</span> <span class="n">InstructorDB</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="n">isouter</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">TimeSlotDB</span><span class="p">,</span> <span class="n">SectionDB</span><span class="o">.</span><span class="n">time_slot_id</span> <span class="o">==</span> <span class="n">TimeSlotDB</span><span class="o">.</span><span class="n">time_slot_id</span><span class="p">,</span> <span class="n">isouter</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">LocationDB</span><span class="p">,</span> <span class="n">SectionDB</span><span class="o">.</span><span class="n">roomID</span> <span class="o">==</span> <span class="n">LocationDB</span><span class="o">.</span><span class="n">room_id</span><span class="p">,</span> <span class="n">isouter</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
        <span class="n">SectionNameDB</span><span class="p">,</span> <span class="n">SectionDB</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">SectionNameDB</span><span class="o">.</span><span class="n">section_id</span><span class="p">,</span> <span class="n">isouter</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>

    <span class="c1"># Apply course type filter if provided</span>
    <span class="k">if</span> <span class="n">filtered_course_ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">CourseDB</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">in_</span><span class="p">(</span><span class="n">filtered_course_ids</span><span class="p">))</span>

    <span class="c1"># Filter by year and semester</span>
    <span class="k">if</span> <span class="n">year</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">year_int</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">year</span><span class="p">)</span>
            <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">TimeSlotDB</span><span class="o">.</span><span class="n">year</span> <span class="o">==</span> <span class="n">year_int</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
            <span class="k">pass</span>  <span class="c1"># Invalid year format, skip filter</span>
    <span class="k">if</span> <span class="n">semester</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">TimeSlotDB</span><span class="o">.</span><span class="n">semester</span> <span class="o">==</span> <span class="n">semester</span><span class="p">)</span>

    <span class="c1"># Filter by course name if search provided</span>
    <span class="k">if</span> <span class="n">search</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">CourseDB</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">ilike</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;%</span><span class="si">{</span><span class="n">search</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">))</span>

    <span class="n">results</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

    <span class="c1"># Helper function to expand MWF/TTh days</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">expand_days</span><span class="p">(</span><span class="n">day_str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Expand single day to MWF or TTh group if applicable&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">day_str</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">day_str</span>

        <span class="n">day_lower</span> <span class="o">=</span> <span class="n">day_str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="c1"># MWF pattern: if any of Mon, Wed, Fri, return all three</span>
        <span class="k">if</span> <span class="n">day_lower</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;mon&#39;</span><span class="p">,</span> <span class="s1">&#39;monday&#39;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="s2">&quot;Monday, Wednesday, Friday&quot;</span>
        <span class="k">elif</span> <span class="n">day_lower</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;wed&#39;</span><span class="p">,</span> <span class="s1">&#39;wednesday&#39;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="s2">&quot;Monday, Wednesday, Friday&quot;</span>
        <span class="k">elif</span> <span class="n">day_lower</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;fri&#39;</span><span class="p">,</span> <span class="s1">&#39;friday&#39;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="s2">&quot;Monday, Wednesday, Friday&quot;</span>
        <span class="c1"># TTh pattern: if any of Tue, Thu, return both</span>
        <span class="k">elif</span> <span class="n">day_lower</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;tue&#39;</span><span class="p">,</span> <span class="s1">&#39;tuesday&#39;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="s2">&quot;Tuesday, Thursday&quot;</span>
        <span class="k">elif</span> <span class="n">day_lower</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;thu&#39;</span><span class="p">,</span> <span class="s1">&#39;thursday&#39;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="s2">&quot;Tuesday, Thursday&quot;</span>
        <span class="c1"># Otherwise return as-is (for other days like Sat, Sun)</span>
        <span class="k">return</span> <span class="n">day_str</span>

    <span class="c1"># Helper function to format time (remove seconds)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">format_time</span><span class="p">(</span><span class="n">time_str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Format time from HH:MM:SS to HH:MM&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">time_str</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="c1"># Remove seconds if present</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">time_str</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">8</span> <span class="ow">and</span> <span class="n">time_str</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">time_str</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>  <span class="c1"># Take HH:MM</span>
        <span class="k">return</span> <span class="n">time_str</span>

    <span class="c1"># Format response for frontend</span>
    <span class="n">formatted_sections</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">section</span><span class="p">,</span> <span class="n">course</span><span class="p">,</span> <span class="n">instructor</span><span class="p">,</span> <span class="n">timeslot</span><span class="p">,</span> <span class="n">location</span><span class="p">,</span> <span class="n">section_name</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
        <span class="c1"># Get cluster numbers for this course by joining course_cluster with clusters table</span>
        <span class="n">cluster_numbers</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">ClusterDB</span><span class="o">.</span><span class="n">cluster_number</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">CourseClusterDB</span><span class="p">,</span> <span class="n">CourseClusterDB</span><span class="o">.</span><span class="n">cluster_id</span> <span class="o">==</span> <span class="n">ClusterDB</span><span class="o">.</span><span class="n">cluster_id</span>
        <span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
            <span class="n">CourseClusterDB</span><span class="o">.</span><span class="n">course_id</span> <span class="o">==</span> <span class="n">course</span><span class="o">.</span><span class="n">id</span>
        <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="n">cluster_ids</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cluster_numbers</span><span class="p">]</span>  <span class="c1"># cluster_ids now contains cluster_number values</span>

        <span class="c1"># Get enrollment count (taken seats)</span>
        <span class="n">taken_seats</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">TakesDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
            <span class="n">TakesDB</span><span class="o">.</span><span class="n">section_id</span> <span class="o">==</span> <span class="n">section</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="n">TakesDB</span><span class="o">.</span><span class="n">status</span><span class="o">.</span><span class="n">in_</span><span class="p">([</span><span class="s1">&#39;enrolled&#39;</span><span class="p">,</span> <span class="s1">&#39;completed&#39;</span><span class="p">])</span>
        <span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

        <span class="c1"># Format time slot with day expansion and time formatting</span>
        <span class="n">days</span> <span class="o">=</span> <span class="n">expand_days</span><span class="p">(</span><span class="n">timeslot</span><span class="o">.</span><span class="n">day_of_week</span> <span class="k">if</span> <span class="n">timeslot</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">start_time</span> <span class="o">=</span> <span class="n">format_time</span><span class="p">(</span><span class="n">timeslot</span><span class="o">.</span><span class="n">start_time</span><span class="p">)</span> <span class="k">if</span> <span class="n">timeslot</span> <span class="ow">and</span> <span class="n">timeslot</span><span class="o">.</span><span class="n">start_time</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
        <span class="n">end_time</span> <span class="o">=</span> <span class="n">format_time</span><span class="p">(</span><span class="n">timeslot</span><span class="o">.</span><span class="n">end_time</span><span class="p">)</span> <span class="k">if</span> <span class="n">timeslot</span> <span class="ow">and</span> <span class="n">timeslot</span><span class="o">.</span><span class="n">end_time</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
        <span class="n">time</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">start_time</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">end_time</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">start_time</span> <span class="ow">and</span> <span class="n">end_time</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>

        <span class="c1"># Extract course code from name (first word) or use course ID as fallback</span>
        <span class="n">course_code</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">course</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">course</span><span class="o">.</span><span class="n">name</span> <span class="ow">and</span> <span class="n">course</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">strip</span><span class="p">():</span>
            <span class="n">name_parts</span> <span class="o">=</span> <span class="n">course</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">name_parts</span><span class="p">:</span>
                <span class="n">course_code</span> <span class="o">=</span> <span class="n">name_parts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="c1"># Format semester and year (e.g., &quot;Fall 2023&quot;)</span>
        <span class="n">semester_year</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="n">timeslot</span><span class="p">:</span>
            <span class="n">semester_name</span> <span class="o">=</span> <span class="n">timeslot</span><span class="o">.</span><span class="n">semester</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
            <span class="n">year_value</span> <span class="o">=</span> <span class="n">timeslot</span><span class="o">.</span><span class="n">year</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
            <span class="k">if</span> <span class="n">semester_name</span> <span class="ow">and</span> <span class="n">year_value</span><span class="p">:</span>
                <span class="n">semester_year</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">semester_name</span><span class="si">}</span><span class="s2"> </span><span class="si">{</span><span class="n">year_value</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="c1"># Get section letter (A, B, C, etc.) from section_name table</span>
        <span class="c1"># If no section_name found, fallback to section ID</span>
        <span class="n">section_letter</span> <span class="o">=</span> <span class="n">section_name</span><span class="o">.</span><span class="n">section_name</span> <span class="k">if</span> <span class="n">section_name</span> <span class="ow">and</span> <span class="n">section_name</span><span class="o">.</span><span class="n">section_name</span> <span class="k">else</span> <span class="nb">str</span><span class="p">(</span><span class="n">section</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

        <span class="n">formatted_sections</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">section</span><span class="o">.</span><span class="n">id</span><span class="p">),</span>
            <span class="s2">&quot;code&quot;</span><span class="p">:</span> <span class="n">course_code</span><span class="p">,</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">course</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;cluster&quot;</span><span class="p">:</span> <span class="n">cluster_ids</span><span class="p">,</span>
            <span class="s2">&quot;section&quot;</span><span class="p">:</span> <span class="n">section_letter</span><span class="p">,</span>
            <span class="s2">&quot;instructor&quot;</span><span class="p">:</span> <span class="n">instructor</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">instructor</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;days&quot;</span><span class="p">:</span> <span class="n">days</span><span class="p">,</span>
            <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">time</span><span class="p">,</span>
            <span class="s2">&quot;takenSeats&quot;</span><span class="p">:</span> <span class="n">taken_seats</span><span class="p">,</span>
            <span class="s2">&quot;totalSeats&quot;</span><span class="p">:</span> <span class="n">section</span><span class="o">.</span><span class="n">capacity</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="n">location</span><span class="o">.</span><span class="n">building_room_name</span> <span class="k">if</span> <span class="n">location</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;duration&quot;</span><span class="p">:</span> <span class="n">section</span><span class="o">.</span><span class="n">duration</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;syllabusUrl&quot;</span><span class="p">:</span> <span class="n">section</span><span class="o">.</span><span class="n">syllabus_url</span><span class="p">,</span>
            <span class="s2">&quot;instructorBioUrl&quot;</span><span class="p">:</span> <span class="n">instructor</span><span class="o">.</span><span class="n">bio_url</span> <span class="k">if</span> <span class="n">instructor</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;credits&quot;</span><span class="p">:</span> <span class="n">course</span><span class="o">.</span><span class="n">credits</span> <span class="ow">or</span> <span class="mi">0</span><span class="p">,</span>
            <span class="s2">&quot;semester&quot;</span><span class="p">:</span> <span class="n">timeslot</span><span class="o">.</span><span class="n">semester</span> <span class="k">if</span> <span class="n">timeslot</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
            <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">timeslot</span><span class="o">.</span><span class="n">year</span> <span class="k">if</span> <span class="n">timeslot</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
            <span class="s2">&quot;semesterYear&quot;</span><span class="p">:</span> <span class="n">semester_year</span>
        <span class="p">})</span>

    <span class="k">return</span> <span class="n">formatted_sections</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_student" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_student</span><span class="p">(</span><span class="n">student_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">



<details class="description" open>
  <summary>Description</summary>
  <p>Retrieve a student by their unique ID.</p>
</details>

<details class="input" open>
  <summary>Input</summary>
  <p>student_id (int): The unique identifier of the student.
db (Session): Database session provided by dependency injection.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Student: The student's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the student is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/students/</span><span class="si">{student_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Student</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Students&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_student</span><span class="p">(</span><span class="n">student_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>
<span class="sd">        Retrieve a student by their unique ID.</span>

<span class="sd">    Input:</span>
<span class="sd">        student_id (int): The unique identifier of the student.</span>
<span class="sd">        db (Session): Database session provided by dependency injection.</span>

<span class="sd">    Output:</span>
<span class="sd">        Student: The student&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the student is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">student</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">StudentDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">StudentDB</span><span class="o">.</span><span class="n">student_id</span> <span class="o">==</span> <span class="n">student_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">student</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Student not found&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">student</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_student_statistics" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_student_statistics</span><span class="p">(</span><span class="n">student_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get comprehensive statistics for a student including:
- GPA progress over time
- Credits earned and remaining
- Semester progress
- Course completion by program
- Grade distribution
- Performance by course type
- Time slot performance
- Course load per semester
- Prerequisites completion status</p>


<details class="input" open>
  <summary>Input</summary>
  <p>student_id (int): The student ID to get statistics for.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>StatisticsResponse: All statistics for the student.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If student not found or database error occurs.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2399</span>
<span class="normal">2400</span>
<span class="normal">2401</span>
<span class="normal">2402</span>
<span class="normal">2403</span>
<span class="normal">2404</span>
<span class="normal">2405</span>
<span class="normal">2406</span>
<span class="normal">2407</span>
<span class="normal">2408</span>
<span class="normal">2409</span>
<span class="normal">2410</span>
<span class="normal">2411</span>
<span class="normal">2412</span>
<span class="normal">2413</span>
<span class="normal">2414</span>
<span class="normal">2415</span>
<span class="normal">2416</span>
<span class="normal">2417</span>
<span class="normal">2418</span>
<span class="normal">2419</span>
<span class="normal">2420</span>
<span class="normal">2421</span>
<span class="normal">2422</span>
<span class="normal">2423</span>
<span class="normal">2424</span>
<span class="normal">2425</span>
<span class="normal">2426</span>
<span class="normal">2427</span>
<span class="normal">2428</span>
<span class="normal">2429</span>
<span class="normal">2430</span>
<span class="normal">2431</span>
<span class="normal">2432</span>
<span class="normal">2433</span>
<span class="normal">2434</span>
<span class="normal">2435</span>
<span class="normal">2436</span>
<span class="normal">2437</span>
<span class="normal">2438</span>
<span class="normal">2439</span>
<span class="normal">2440</span>
<span class="normal">2441</span>
<span class="normal">2442</span>
<span class="normal">2443</span>
<span class="normal">2444</span>
<span class="normal">2445</span>
<span class="normal">2446</span>
<span class="normal">2447</span>
<span class="normal">2448</span>
<span class="normal">2449</span>
<span class="normal">2450</span>
<span class="normal">2451</span>
<span class="normal">2452</span>
<span class="normal">2453</span>
<span class="normal">2454</span>
<span class="normal">2455</span>
<span class="normal">2456</span>
<span class="normal">2457</span>
<span class="normal">2458</span>
<span class="normal">2459</span>
<span class="normal">2460</span>
<span class="normal">2461</span>
<span class="normal">2462</span>
<span class="normal">2463</span>
<span class="normal">2464</span>
<span class="normal">2465</span>
<span class="normal">2466</span>
<span class="normal">2467</span>
<span class="normal">2468</span>
<span class="normal">2469</span>
<span class="normal">2470</span>
<span class="normal">2471</span>
<span class="normal">2472</span>
<span class="normal">2473</span>
<span class="normal">2474</span>
<span class="normal">2475</span>
<span class="normal">2476</span>
<span class="normal">2477</span>
<span class="normal">2478</span>
<span class="normal">2479</span>
<span class="normal">2480</span>
<span class="normal">2481</span>
<span class="normal">2482</span>
<span class="normal">2483</span>
<span class="normal">2484</span>
<span class="normal">2485</span>
<span class="normal">2486</span>
<span class="normal">2487</span>
<span class="normal">2488</span>
<span class="normal">2489</span>
<span class="normal">2490</span>
<span class="normal">2491</span>
<span class="normal">2492</span>
<span class="normal">2493</span>
<span class="normal">2494</span>
<span class="normal">2495</span>
<span class="normal">2496</span>
<span class="normal">2497</span>
<span class="normal">2498</span>
<span class="normal">2499</span>
<span class="normal">2500</span>
<span class="normal">2501</span>
<span class="normal">2502</span>
<span class="normal">2503</span>
<span class="normal">2504</span>
<span class="normal">2505</span>
<span class="normal">2506</span>
<span class="normal">2507</span>
<span class="normal">2508</span>
<span class="normal">2509</span>
<span class="normal">2510</span>
<span class="normal">2511</span>
<span class="normal">2512</span>
<span class="normal">2513</span>
<span class="normal">2514</span>
<span class="normal">2515</span>
<span class="normal">2516</span>
<span class="normal">2517</span>
<span class="normal">2518</span>
<span class="normal">2519</span>
<span class="normal">2520</span>
<span class="normal">2521</span>
<span class="normal">2522</span>
<span class="normal">2523</span>
<span class="normal">2524</span>
<span class="normal">2525</span>
<span class="normal">2526</span>
<span class="normal">2527</span>
<span class="normal">2528</span>
<span class="normal">2529</span>
<span class="normal">2530</span>
<span class="normal">2531</span>
<span class="normal">2532</span>
<span class="normal">2533</span>
<span class="normal">2534</span>
<span class="normal">2535</span>
<span class="normal">2536</span>
<span class="normal">2537</span>
<span class="normal">2538</span>
<span class="normal">2539</span>
<span class="normal">2540</span>
<span class="normal">2541</span>
<span class="normal">2542</span>
<span class="normal">2543</span>
<span class="normal">2544</span>
<span class="normal">2545</span>
<span class="normal">2546</span>
<span class="normal">2547</span>
<span class="normal">2548</span>
<span class="normal">2549</span>
<span class="normal">2550</span>
<span class="normal">2551</span>
<span class="normal">2552</span>
<span class="normal">2553</span>
<span class="normal">2554</span>
<span class="normal">2555</span>
<span class="normal">2556</span>
<span class="normal">2557</span>
<span class="normal">2558</span>
<span class="normal">2559</span>
<span class="normal">2560</span>
<span class="normal">2561</span>
<span class="normal">2562</span>
<span class="normal">2563</span>
<span class="normal">2564</span>
<span class="normal">2565</span>
<span class="normal">2566</span>
<span class="normal">2567</span>
<span class="normal">2568</span>
<span class="normal">2569</span>
<span class="normal">2570</span>
<span class="normal">2571</span>
<span class="normal">2572</span>
<span class="normal">2573</span>
<span class="normal">2574</span>
<span class="normal">2575</span>
<span class="normal">2576</span>
<span class="normal">2577</span>
<span class="normal">2578</span>
<span class="normal">2579</span>
<span class="normal">2580</span>
<span class="normal">2581</span>
<span class="normal">2582</span>
<span class="normal">2583</span>
<span class="normal">2584</span>
<span class="normal">2585</span>
<span class="normal">2586</span>
<span class="normal">2587</span>
<span class="normal">2588</span>
<span class="normal">2589</span>
<span class="normal">2590</span>
<span class="normal">2591</span>
<span class="normal">2592</span>
<span class="normal">2593</span>
<span class="normal">2594</span>
<span class="normal">2595</span>
<span class="normal">2596</span>
<span class="normal">2597</span>
<span class="normal">2598</span>
<span class="normal">2599</span>
<span class="normal">2600</span>
<span class="normal">2601</span>
<span class="normal">2602</span>
<span class="normal">2603</span>
<span class="normal">2604</span>
<span class="normal">2605</span>
<span class="normal">2606</span>
<span class="normal">2607</span>
<span class="normal">2608</span>
<span class="normal">2609</span>
<span class="normal">2610</span>
<span class="normal">2611</span>
<span class="normal">2612</span>
<span class="normal">2613</span>
<span class="normal">2614</span>
<span class="normal">2615</span>
<span class="normal">2616</span>
<span class="normal">2617</span>
<span class="normal">2618</span>
<span class="normal">2619</span>
<span class="normal">2620</span>
<span class="normal">2621</span>
<span class="normal">2622</span>
<span class="normal">2623</span>
<span class="normal">2624</span>
<span class="normal">2625</span>
<span class="normal">2626</span>
<span class="normal">2627</span>
<span class="normal">2628</span>
<span class="normal">2629</span>
<span class="normal">2630</span>
<span class="normal">2631</span>
<span class="normal">2632</span>
<span class="normal">2633</span>
<span class="normal">2634</span>
<span class="normal">2635</span>
<span class="normal">2636</span>
<span class="normal">2637</span>
<span class="normal">2638</span>
<span class="normal">2639</span>
<span class="normal">2640</span>
<span class="normal">2641</span>
<span class="normal">2642</span>
<span class="normal">2643</span>
<span class="normal">2644</span>
<span class="normal">2645</span>
<span class="normal">2646</span>
<span class="normal">2647</span>
<span class="normal">2648</span>
<span class="normal">2649</span>
<span class="normal">2650</span>
<span class="normal">2651</span>
<span class="normal">2652</span>
<span class="normal">2653</span>
<span class="normal">2654</span>
<span class="normal">2655</span>
<span class="normal">2656</span>
<span class="normal">2657</span>
<span class="normal">2658</span>
<span class="normal">2659</span>
<span class="normal">2660</span>
<span class="normal">2661</span>
<span class="normal">2662</span>
<span class="normal">2663</span>
<span class="normal">2664</span>
<span class="normal">2665</span>
<span class="normal">2666</span>
<span class="normal">2667</span>
<span class="normal">2668</span>
<span class="normal">2669</span>
<span class="normal">2670</span>
<span class="normal">2671</span>
<span class="normal">2672</span>
<span class="normal">2673</span>
<span class="normal">2674</span>
<span class="normal">2675</span>
<span class="normal">2676</span>
<span class="normal">2677</span>
<span class="normal">2678</span>
<span class="normal">2679</span>
<span class="normal">2680</span>
<span class="normal">2681</span>
<span class="normal">2682</span>
<span class="normal">2683</span>
<span class="normal">2684</span>
<span class="normal">2685</span>
<span class="normal">2686</span>
<span class="normal">2687</span>
<span class="normal">2688</span>
<span class="normal">2689</span>
<span class="normal">2690</span>
<span class="normal">2691</span>
<span class="normal">2692</span>
<span class="normal">2693</span>
<span class="normal">2694</span>
<span class="normal">2695</span>
<span class="normal">2696</span>
<span class="normal">2697</span>
<span class="normal">2698</span>
<span class="normal">2699</span>
<span class="normal">2700</span>
<span class="normal">2701</span>
<span class="normal">2702</span>
<span class="normal">2703</span>
<span class="normal">2704</span>
<span class="normal">2705</span>
<span class="normal">2706</span>
<span class="normal">2707</span>
<span class="normal">2708</span>
<span class="normal">2709</span>
<span class="normal">2710</span>
<span class="normal">2711</span>
<span class="normal">2712</span>
<span class="normal">2713</span>
<span class="normal">2714</span>
<span class="normal">2715</span>
<span class="normal">2716</span>
<span class="normal">2717</span>
<span class="normal">2718</span>
<span class="normal">2719</span>
<span class="normal">2720</span>
<span class="normal">2721</span>
<span class="normal">2722</span>
<span class="normal">2723</span>
<span class="normal">2724</span>
<span class="normal">2725</span>
<span class="normal">2726</span>
<span class="normal">2727</span>
<span class="normal">2728</span>
<span class="normal">2729</span>
<span class="normal">2730</span>
<span class="normal">2731</span>
<span class="normal">2732</span>
<span class="normal">2733</span>
<span class="normal">2734</span>
<span class="normal">2735</span>
<span class="normal">2736</span>
<span class="normal">2737</span>
<span class="normal">2738</span>
<span class="normal">2739</span>
<span class="normal">2740</span>
<span class="normal">2741</span>
<span class="normal">2742</span>
<span class="normal">2743</span>
<span class="normal">2744</span>
<span class="normal">2745</span>
<span class="normal">2746</span>
<span class="normal">2747</span>
<span class="normal">2748</span>
<span class="normal">2749</span>
<span class="normal">2750</span>
<span class="normal">2751</span>
<span class="normal">2752</span>
<span class="normal">2753</span>
<span class="normal">2754</span>
<span class="normal">2755</span>
<span class="normal">2756</span>
<span class="normal">2757</span>
<span class="normal">2758</span>
<span class="normal">2759</span>
<span class="normal">2760</span>
<span class="normal">2761</span>
<span class="normal">2762</span>
<span class="normal">2763</span>
<span class="normal">2764</span>
<span class="normal">2765</span>
<span class="normal">2766</span>
<span class="normal">2767</span>
<span class="normal">2768</span>
<span class="normal">2769</span>
<span class="normal">2770</span>
<span class="normal">2771</span>
<span class="normal">2772</span>
<span class="normal">2773</span>
<span class="normal">2774</span>
<span class="normal">2775</span>
<span class="normal">2776</span>
<span class="normal">2777</span>
<span class="normal">2778</span>
<span class="normal">2779</span>
<span class="normal">2780</span>
<span class="normal">2781</span>
<span class="normal">2782</span>
<span class="normal">2783</span>
<span class="normal">2784</span>
<span class="normal">2785</span>
<span class="normal">2786</span>
<span class="normal">2787</span>
<span class="normal">2788</span>
<span class="normal">2789</span>
<span class="normal">2790</span>
<span class="normal">2791</span>
<span class="normal">2792</span>
<span class="normal">2793</span>
<span class="normal">2794</span>
<span class="normal">2795</span>
<span class="normal">2796</span>
<span class="normal">2797</span>
<span class="normal">2798</span>
<span class="normal">2799</span>
<span class="normal">2800</span>
<span class="normal">2801</span>
<span class="normal">2802</span>
<span class="normal">2803</span>
<span class="normal">2804</span>
<span class="normal">2805</span>
<span class="normal">2806</span>
<span class="normal">2807</span>
<span class="normal">2808</span>
<span class="normal">2809</span>
<span class="normal">2810</span>
<span class="normal">2811</span>
<span class="normal">2812</span>
<span class="normal">2813</span>
<span class="normal">2814</span>
<span class="normal">2815</span>
<span class="normal">2816</span>
<span class="normal">2817</span>
<span class="normal">2818</span>
<span class="normal">2819</span>
<span class="normal">2820</span>
<span class="normal">2821</span>
<span class="normal">2822</span>
<span class="normal">2823</span>
<span class="normal">2824</span>
<span class="normal">2825</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/statistics/</span><span class="si">{student_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">StatisticsResponse</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Statistics&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_student_statistics</span><span class="p">(</span>
    <span class="n">student_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get comprehensive statistics for a student including:</span>
<span class="sd">    - GPA progress over time</span>
<span class="sd">    - Credits earned and remaining</span>
<span class="sd">    - Semester progress</span>
<span class="sd">    - Course completion by program</span>
<span class="sd">    - Grade distribution</span>
<span class="sd">    - Performance by course type</span>
<span class="sd">    - Time slot performance</span>
<span class="sd">    - Course load per semester</span>
<span class="sd">    - Prerequisites completion status</span>

<span class="sd">    Input:</span>
<span class="sd">        student_id (int): The student ID to get statistics for.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        StatisticsResponse: All statistics for the student.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If student not found or database error occurs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Input validation</span>
        <span class="k">if</span> <span class="n">student_id</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Invalid student_id&quot;</span><span class="p">)</span>

        <span class="c1"># Verify student exists</span>
        <span class="n">student</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">StudentDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">StudentDB</span><span class="o">.</span><span class="n">student_id</span> <span class="o">==</span> <span class="n">student_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">student</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Student not found&quot;</span><span class="p">)</span>

        <span class="c1"># Pre-load all data to avoid N+1 queries</span>
        <span class="c1"># Load all takes with related data in one query</span>
        <span class="n">takes_query</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span>
            <span class="n">TakesDB</span><span class="p">,</span>
            <span class="n">SectionDB</span><span class="p">,</span>
            <span class="n">TimeSlotDB</span><span class="p">,</span>
            <span class="n">CourseDB</span>
        <span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">SectionDB</span><span class="p">,</span> <span class="n">TakesDB</span><span class="o">.</span><span class="n">section_id</span> <span class="o">==</span> <span class="n">SectionDB</span><span class="o">.</span><span class="n">id</span>
        <span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">TimeSlotDB</span><span class="p">,</span> <span class="n">SectionDB</span><span class="o">.</span><span class="n">time_slot_id</span> <span class="o">==</span> <span class="n">TimeSlotDB</span><span class="o">.</span><span class="n">time_slot_id</span>
        <span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">CourseDB</span><span class="p">,</span> <span class="n">SectionDB</span><span class="o">.</span><span class="n">course_id</span> <span class="o">==</span> <span class="n">CourseDB</span><span class="o">.</span><span class="n">id</span>
        <span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
            <span class="n">TakesDB</span><span class="o">.</span><span class="n">student_id</span> <span class="o">==</span> <span class="n">student_id</span>
        <span class="p">)</span>

        <span class="c1"># Pre-load course type mappings to avoid N+1 queries</span>
        <span class="n">all_has_courses</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">HasCourseDB</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="n">course_type_map</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">has_course</span> <span class="ow">in</span> <span class="n">all_has_courses</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">has_course</span><span class="o">.</span><span class="n">courseid</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">course_type_map</span><span class="p">:</span>
                <span class="n">course_type_map</span><span class="p">[</span><span class="n">has_course</span><span class="o">.</span><span class="n">courseid</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">course_type_map</span><span class="p">[</span><span class="n">has_course</span><span class="o">.</span><span class="n">courseid</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">has_course</span><span class="o">.</span><span class="n">prog_name</span><span class="p">)</span>

        <span class="c1"># Load all takes data into memory once</span>
        <span class="n">all_takes_data</span> <span class="o">=</span> <span class="n">takes_query</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

        <span class="c1"># 1. GPA Progress over time</span>
        <span class="n">gpa_data</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">takes</span><span class="p">,</span> <span class="n">section</span><span class="p">,</span> <span class="n">time_slot</span><span class="p">,</span> <span class="n">course</span> <span class="ow">in</span> <span class="n">all_takes_data</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">takes</span><span class="o">.</span><span class="n">grade</span> <span class="ow">and</span> <span class="n">takes</span><span class="o">.</span><span class="n">grade</span> <span class="ow">in</span> <span class="n">GRADE_TO_GPA</span><span class="p">:</span>
                <span class="n">gpa_value</span> <span class="o">=</span> <span class="n">GRADE_TO_GPA</span><span class="p">[</span><span class="n">takes</span><span class="o">.</span><span class="n">grade</span><span class="p">]</span>
                <span class="n">term</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">time_slot</span><span class="o">.</span><span class="n">year</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">time_slot</span><span class="o">.</span><span class="n">semester</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="n">gpa_data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                    <span class="s2">&quot;term&quot;</span><span class="p">:</span> <span class="n">term</span><span class="p">,</span>
                    <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">time_slot</span><span class="o">.</span><span class="n">year</span><span class="p">,</span>
                    <span class="s2">&quot;semester&quot;</span><span class="p">:</span> <span class="n">time_slot</span><span class="o">.</span><span class="n">semester</span><span class="p">,</span>
                    <span class="s2">&quot;gpa&quot;</span><span class="p">:</span> <span class="n">gpa_value</span>
                <span class="p">})</span>

        <span class="c1"># Calculate average GPA per term</span>
        <span class="n">term_gpa</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">gpa_data</span><span class="p">:</span>
            <span class="n">term</span> <span class="o">=</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;term&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">term</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">term_gpa</span><span class="p">:</span>
                <span class="n">term_gpa</span><span class="p">[</span><span class="n">term</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;gpas&quot;</span><span class="p">:</span> <span class="p">[],</span> <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">],</span> <span class="s2">&quot;semester&quot;</span><span class="p">:</span> <span class="n">item</span><span class="p">[</span><span class="s2">&quot;semester&quot;</span><span class="p">]}</span>
            <span class="n">term_gpa</span><span class="p">[</span><span class="n">term</span><span class="p">][</span><span class="s2">&quot;gpas&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s2">&quot;gpa&quot;</span><span class="p">])</span>

        <span class="n">gpa_progress</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">term</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">term_gpa</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="n">avg_gpa</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;gpas&quot;</span><span class="p">])</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;gpas&quot;</span><span class="p">])</span>
            <span class="n">gpa_progress</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">GPAProgressPoint</span><span class="p">(</span>
                <span class="n">term</span><span class="o">=</span><span class="n">term</span><span class="p">,</span>
                <span class="n">year</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">],</span>
                <span class="n">semester</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;semester&quot;</span><span class="p">],</span>
                <span class="n">gpa</span><span class="o">=</span><span class="nb">round</span><span class="p">(</span><span class="n">avg_gpa</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="p">))</span>

        <span class="c1"># 2. Credits Progress</span>
        <span class="n">credit_earned</span> <span class="o">=</span> <span class="n">student</span><span class="o">.</span><span class="n">credit</span> <span class="ow">or</span> <span class="mi">0</span>
        <span class="n">total_credits</span> <span class="o">=</span> <span class="mi">121</span>  <span class="c1"># Standard total credits</span>
        <span class="n">remaining</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">total_credits</span> <span class="o">-</span> <span class="n">credit_earned</span><span class="p">)</span>

        <span class="n">credits_progress</span> <span class="o">=</span> <span class="n">CreditsProgress</span><span class="p">(</span>
            <span class="n">credit_earned</span><span class="o">=</span><span class="n">credit_earned</span><span class="p">,</span>
            <span class="n">total_credits</span><span class="o">=</span><span class="n">total_credits</span><span class="p">,</span>
            <span class="n">remaining</span><span class="o">=</span><span class="n">remaining</span>
        <span class="p">)</span>

        <span class="c1"># 3. Semester Progress</span>
        <span class="n">today</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
        <span class="c1"># Assume Fall semester: Sept 1 to Dec 20</span>
        <span class="n">semester_start</span> <span class="o">=</span> <span class="n">date</span><span class="p">(</span><span class="n">today</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">semester_end</span> <span class="o">=</span> <span class="n">date</span><span class="p">(</span><span class="n">today</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>

        <span class="c1"># If we&#39;re past December, use next year&#39;s dates</span>
        <span class="k">if</span> <span class="n">today</span> <span class="o">&gt;</span> <span class="n">semester_end</span><span class="p">:</span>
            <span class="n">semester_start</span> <span class="o">=</span> <span class="n">date</span><span class="p">(</span><span class="n">today</span><span class="o">.</span><span class="n">year</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">semester_end</span> <span class="o">=</span> <span class="n">date</span><span class="p">(</span><span class="n">today</span><span class="o">.</span><span class="n">year</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>

        <span class="n">days_total</span> <span class="o">=</span> <span class="p">(</span><span class="n">semester_end</span> <span class="o">-</span> <span class="n">semester_start</span><span class="p">)</span><span class="o">.</span><span class="n">days</span>
        <span class="n">days_passed</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">days_total</span><span class="p">,</span> <span class="p">(</span><span class="n">today</span> <span class="o">-</span> <span class="n">semester_start</span><span class="p">)</span><span class="o">.</span><span class="n">days</span><span class="p">))</span>
        <span class="n">percentage</span> <span class="o">=</span> <span class="nb">round</span><span class="p">((</span><span class="n">days_passed</span> <span class="o">/</span> <span class="n">days_total</span> <span class="o">*</span> <span class="mi">100</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">days_total</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>

        <span class="n">semester_progress</span> <span class="o">=</span> <span class="n">SemesterProgress</span><span class="p">(</span>
            <span class="n">percentage</span><span class="o">=</span><span class="n">percentage</span><span class="p">,</span>
            <span class="n">days_passed</span><span class="o">=</span><span class="n">days_passed</span><span class="p">,</span>
            <span class="n">days_total</span><span class="o">=</span><span class="n">days_total</span>
        <span class="p">)</span>

        <span class="c1"># 4. Course Completion by Program</span>
        <span class="c1"># Get courses student has taken (with completed status) - use pre-loaded data</span>
        <span class="n">student_course_ids</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">takes</span><span class="p">,</span> <span class="n">section</span><span class="p">,</span> <span class="n">time_slot</span><span class="p">,</span> <span class="n">course</span> <span class="ow">in</span> <span class="n">all_takes_data</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">takes</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;completed&quot;</span><span class="p">:</span>
                <span class="n">student_course_ids</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">section</span><span class="o">.</span><span class="n">course_id</span><span class="p">)</span>

        <span class="c1"># Get total courses per program - use pre-loaded map</span>
        <span class="n">program_stats</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">course_id</span><span class="p">,</span> <span class="n">prog_names</span> <span class="ow">in</span> <span class="n">course_type_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">for</span> <span class="n">prog_name</span> <span class="ow">in</span> <span class="n">prog_names</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">prog_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">program_stats</span><span class="p">:</span>
                    <span class="n">program_stats</span><span class="p">[</span><span class="n">prog_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;total&quot;</span><span class="p">:</span> <span class="nb">set</span><span class="p">(),</span> <span class="s2">&quot;taken&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
                <span class="n">program_stats</span><span class="p">[</span><span class="n">prog_name</span><span class="p">][</span><span class="s2">&quot;total&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">course_id</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">course_id</span> <span class="ow">in</span> <span class="n">student_course_ids</span><span class="p">:</span>
                    <span class="n">program_stats</span><span class="p">[</span><span class="n">prog_name</span><span class="p">][</span><span class="s2">&quot;taken&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">course_completion</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">prog_name</span><span class="p">,</span> <span class="n">stats</span> <span class="ow">in</span> <span class="n">program_stats</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">total</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">stats</span><span class="p">[</span><span class="s2">&quot;total&quot;</span><span class="p">])</span>
            <span class="n">taken</span> <span class="o">=</span> <span class="n">stats</span><span class="p">[</span><span class="s2">&quot;taken&quot;</span><span class="p">]</span>
            <span class="n">remaining</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">total</span> <span class="o">-</span> <span class="n">taken</span><span class="p">)</span>

            <span class="n">course_completion</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">CourseCompletionByProgram</span><span class="p">(</span>
                <span class="n">program</span><span class="o">=</span><span class="n">prog_name</span><span class="p">,</span>
                <span class="n">taken</span><span class="o">=</span><span class="n">taken</span><span class="p">,</span>
                <span class="n">remaining</span><span class="o">=</span><span class="n">remaining</span><span class="p">,</span>
                <span class="n">total</span><span class="o">=</span><span class="n">total</span>
            <span class="p">))</span>

        <span class="c1"># Sort by program name</span>
        <span class="n">course_completion</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">program</span><span class="p">)</span>

        <span class="c1"># 5. Grade Distribution</span>
        <span class="n">grade_counts</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">total_grades</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">takes</span><span class="p">,</span> <span class="n">section</span><span class="p">,</span> <span class="n">time_slot</span><span class="p">,</span> <span class="n">course</span> <span class="ow">in</span> <span class="n">all_takes_data</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">takes</span><span class="o">.</span><span class="n">grade</span> <span class="ow">and</span> <span class="n">takes</span><span class="o">.</span><span class="n">grade</span> <span class="ow">in</span> <span class="n">GRADE_TO_GPA</span><span class="p">:</span>
                <span class="n">grade_counts</span><span class="p">[</span><span class="n">takes</span><span class="o">.</span><span class="n">grade</span><span class="p">]</span> <span class="o">=</span> <span class="n">grade_counts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">takes</span><span class="o">.</span><span class="n">grade</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="n">total_grades</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">grade_distribution</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">grade</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;A-&quot;</span><span class="p">,</span> <span class="s2">&quot;B+&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;B-&quot;</span><span class="p">,</span> <span class="s2">&quot;C+&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span> <span class="s2">&quot;C-&quot;</span><span class="p">,</span> <span class="s2">&quot;D+&quot;</span><span class="p">,</span> <span class="s2">&quot;D&quot;</span><span class="p">,</span> <span class="s2">&quot;F&quot;</span><span class="p">]:</span>
            <span class="n">count</span> <span class="o">=</span> <span class="n">grade_counts</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">grade</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="n">percentage</span> <span class="o">=</span> <span class="p">(</span><span class="n">count</span> <span class="o">/</span> <span class="n">total_grades</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="k">if</span> <span class="n">total_grades</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>
            <span class="n">grade_distribution</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">GradeDistribution</span><span class="p">(</span>
                <span class="n">grade</span><span class="o">=</span><span class="n">grade</span><span class="p">,</span>
                <span class="n">count</span><span class="o">=</span><span class="n">count</span><span class="p">,</span>
                <span class="n">percentage</span><span class="o">=</span><span class="nb">round</span><span class="p">(</span><span class="n">percentage</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="p">))</span>

        <span class="c1"># 6. Performance by Course Type</span>
        <span class="c1"># Get course types from pre-loaded map</span>
        <span class="n">course_type_gpas</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;GENED&quot;</span><span class="p">:</span> <span class="p">[],</span> <span class="s2">&quot;BSDS&quot;</span><span class="p">:</span> <span class="p">[],</span> <span class="s2">&quot;FND&quot;</span><span class="p">:</span> <span class="p">[]}</span>

        <span class="k">for</span> <span class="n">takes</span><span class="p">,</span> <span class="n">section</span><span class="p">,</span> <span class="n">time_slot</span><span class="p">,</span> <span class="n">course</span> <span class="ow">in</span> <span class="n">all_takes_data</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">takes</span><span class="o">.</span><span class="n">grade</span> <span class="ow">and</span> <span class="n">takes</span><span class="o">.</span><span class="n">grade</span> <span class="ow">in</span> <span class="n">GRADE_TO_GPA</span><span class="p">:</span>
                <span class="n">gpa_value</span> <span class="o">=</span> <span class="n">GRADE_TO_GPA</span><span class="p">[</span><span class="n">takes</span><span class="o">.</span><span class="n">grade</span><span class="p">]</span>
                <span class="c1"># Get course type from pre-loaded map</span>
                <span class="n">course_types</span> <span class="o">=</span> <span class="n">course_type_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">section</span><span class="o">.</span><span class="n">course_id</span><span class="p">,</span> <span class="p">[])</span>
                <span class="k">for</span> <span class="n">prog_name</span> <span class="ow">in</span> <span class="n">course_types</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">prog_name</span> <span class="ow">in</span> <span class="n">course_type_gpas</span><span class="p">:</span>
                        <span class="n">course_type_gpas</span><span class="p">[</span><span class="n">prog_name</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gpa_value</span><span class="p">)</span>

        <span class="n">performance_by_course_type</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">course_type</span><span class="p">,</span> <span class="n">gpas</span> <span class="ow">in</span> <span class="n">course_type_gpas</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">gpas</span><span class="p">:</span>
                <span class="n">avg_gpa</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">gpas</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">gpas</span><span class="p">)</span>
                <span class="n">performance_by_course_type</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">PerformanceByCourseType</span><span class="p">(</span>
                    <span class="n">course_type</span><span class="o">=</span><span class="n">course_type</span><span class="p">,</span>
                    <span class="n">average_gpa</span><span class="o">=</span><span class="nb">round</span><span class="p">(</span><span class="n">avg_gpa</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                    <span class="n">course_count</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">gpas</span><span class="p">)</span>
                <span class="p">))</span>

        <span class="c1"># 7. Credit Accumulation Over Time</span>
        <span class="c1"># Get all completed courses with credits</span>
        <span class="n">credit_accumulation_data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">cumulative_credits</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="k">for</span> <span class="n">takes</span><span class="p">,</span> <span class="n">section</span><span class="p">,</span> <span class="n">time_slot</span><span class="p">,</span> <span class="n">course</span> <span class="ow">in</span> <span class="n">all_takes_data</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">takes</span><span class="o">.</span><span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;completed&quot;</span><span class="p">:</span>
                <span class="n">term</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">time_slot</span><span class="o">.</span><span class="n">year</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">time_slot</span><span class="o">.</span><span class="n">semester</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="k">if</span> <span class="n">term</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">credit_accumulation_data</span><span class="p">:</span>
                    <span class="n">credit_accumulation_data</span><span class="p">[</span><span class="n">term</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">time_slot</span><span class="o">.</span><span class="n">year</span><span class="p">,</span>
                        <span class="s2">&quot;semester&quot;</span><span class="p">:</span> <span class="n">time_slot</span><span class="o">.</span><span class="n">semester</span><span class="p">,</span>
                        <span class="s2">&quot;credits&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">}</span>
                <span class="n">credit_accumulation_data</span><span class="p">[</span><span class="n">term</span><span class="p">][</span><span class="s2">&quot;credits&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="n">course</span><span class="o">.</span><span class="n">credits</span>

        <span class="n">credit_accumulation</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">term</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">credit_accumulation_data</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">credit_accumulation_data</span><span class="p">[</span><span class="n">term</span><span class="p">]</span>
            <span class="n">cumulative_credits</span> <span class="o">+=</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;credits&quot;</span><span class="p">]</span>
            <span class="n">credit_accumulation</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">CreditAccumulation</span><span class="p">(</span>
                <span class="n">term</span><span class="o">=</span><span class="n">term</span><span class="p">,</span>
                <span class="n">year</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">],</span>
                <span class="n">semester</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;semester&quot;</span><span class="p">],</span>
                <span class="n">credits_earned</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;credits&quot;</span><span class="p">],</span>
                <span class="n">cumulative_credits</span><span class="o">=</span><span class="n">cumulative_credits</span>
            <span class="p">))</span>

        <span class="c1"># 8. Time Slot Performance</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">get_time_slot_category</span><span class="p">(</span><span class="n">start_time</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Categorize time slot as morning, afternoon, or evening&quot;&quot;&quot;</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">start_time</span><span class="p">:</span>
                <span class="k">return</span> <span class="s2">&quot;unknown&quot;</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Parse time (format: &quot;HH:MM&quot; or &quot;HH:MM:SS&quot;)</span>
                <span class="n">hour</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">start_time</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;:&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
                <span class="k">if</span> <span class="n">hour</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="p">:</span>
                    <span class="k">return</span> <span class="s2">&quot;morning&quot;</span>
                <span class="k">elif</span> <span class="n">hour</span> <span class="o">&lt;</span> <span class="mi">17</span><span class="p">:</span>
                    <span class="k">return</span> <span class="s2">&quot;afternoon&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">return</span> <span class="s2">&quot;evening&quot;</span>
            <span class="k">except</span> <span class="p">(</span><span class="ne">ValueError</span><span class="p">,</span> <span class="ne">IndexError</span><span class="p">):</span>
                <span class="k">return</span> <span class="s2">&quot;unknown&quot;</span>

        <span class="n">time_slot_performance</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;morning&quot;</span><span class="p">:</span> <span class="p">[],</span> <span class="s2">&quot;afternoon&quot;</span><span class="p">:</span> <span class="p">[],</span> <span class="s2">&quot;evening&quot;</span><span class="p">:</span> <span class="p">[]}</span>

        <span class="k">for</span> <span class="n">takes</span><span class="p">,</span> <span class="n">section</span><span class="p">,</span> <span class="n">time_slot</span><span class="p">,</span> <span class="n">course</span> <span class="ow">in</span> <span class="n">all_takes_data</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">takes</span><span class="o">.</span><span class="n">grade</span> <span class="ow">and</span> <span class="n">takes</span><span class="o">.</span><span class="n">grade</span> <span class="ow">in</span> <span class="n">GRADE_TO_GPA</span><span class="p">:</span>
                <span class="n">gpa_value</span> <span class="o">=</span> <span class="n">GRADE_TO_GPA</span><span class="p">[</span><span class="n">takes</span><span class="o">.</span><span class="n">grade</span><span class="p">]</span>
                <span class="n">time_category</span> <span class="o">=</span> <span class="n">get_time_slot_category</span><span class="p">(</span><span class="n">time_slot</span><span class="o">.</span><span class="n">start_time</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">time_category</span> <span class="ow">in</span> <span class="n">time_slot_performance</span><span class="p">:</span>
                    <span class="n">time_slot_performance</span><span class="p">[</span><span class="n">time_category</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gpa_value</span><span class="p">)</span>

        <span class="n">time_slot_perf_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">time_slot</span><span class="p">,</span> <span class="n">gpas</span> <span class="ow">in</span> <span class="n">time_slot_performance</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">gpas</span><span class="p">:</span>
                <span class="n">avg_gpa</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">gpas</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">gpas</span><span class="p">)</span>
                <span class="n">time_slot_perf_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">TimeSlotPerformance</span><span class="p">(</span>
                    <span class="n">time_slot</span><span class="o">=</span><span class="n">time_slot</span><span class="p">,</span>
                    <span class="n">average_gpa</span><span class="o">=</span><span class="nb">round</span><span class="p">(</span><span class="n">avg_gpa</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                    <span class="n">course_count</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">gpas</span><span class="p">)</span>
                <span class="p">))</span>

        <span class="c1"># 9. Course Load Per Semester</span>
        <span class="n">course_load_data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">takes</span><span class="p">,</span> <span class="n">section</span><span class="p">,</span> <span class="n">time_slot</span><span class="p">,</span> <span class="n">course</span> <span class="ow">in</span> <span class="n">all_takes_data</span><span class="p">:</span>
            <span class="n">term</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">time_slot</span><span class="o">.</span><span class="n">year</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">time_slot</span><span class="o">.</span><span class="n">semester</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="n">term</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">course_load_data</span><span class="p">:</span>
                <span class="n">course_load_data</span><span class="p">[</span><span class="n">term</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">time_slot</span><span class="o">.</span><span class="n">year</span><span class="p">,</span>
                    <span class="s2">&quot;semester&quot;</span><span class="p">:</span> <span class="n">time_slot</span><span class="o">.</span><span class="n">semester</span><span class="p">,</span>
                    <span class="s2">&quot;credits&quot;</span><span class="p">:</span> <span class="mi">0</span>
                <span class="p">}</span>
            <span class="n">course_load_data</span><span class="p">[</span><span class="n">term</span><span class="p">][</span><span class="s2">&quot;credits&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="n">course</span><span class="o">.</span><span class="n">credits</span>

        <span class="n">course_load</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">term</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">course_load_data</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">course_load_data</span><span class="p">[</span><span class="n">term</span><span class="p">]</span>
            <span class="n">course_load</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">CourseLoad</span><span class="p">(</span>
                <span class="n">term</span><span class="o">=</span><span class="n">term</span><span class="p">,</span>
                <span class="n">year</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">],</span>
                <span class="n">semester</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;semester&quot;</span><span class="p">],</span>
                <span class="n">credits</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;credits&quot;</span><span class="p">]</span>
            <span class="p">))</span>

        <span class="c1"># 10. Grade Trends by Course Type</span>
        <span class="n">grade_trends</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">takes</span><span class="p">,</span> <span class="n">section</span><span class="p">,</span> <span class="n">time_slot</span><span class="p">,</span> <span class="n">course</span> <span class="ow">in</span> <span class="n">all_takes_data</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">takes</span><span class="o">.</span><span class="n">grade</span> <span class="ow">and</span> <span class="n">takes</span><span class="o">.</span><span class="n">grade</span> <span class="ow">in</span> <span class="n">GRADE_TO_GPA</span><span class="p">:</span>
                <span class="n">gpa_value</span> <span class="o">=</span> <span class="n">GRADE_TO_GPA</span><span class="p">[</span><span class="n">takes</span><span class="o">.</span><span class="n">grade</span><span class="p">]</span>
                <span class="n">term</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">time_slot</span><span class="o">.</span><span class="n">year</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">time_slot</span><span class="o">.</span><span class="n">semester</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="c1"># Get course type from pre-loaded map</span>
                <span class="n">course_types</span> <span class="o">=</span> <span class="n">course_type_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">section</span><span class="o">.</span><span class="n">course_id</span><span class="p">,</span> <span class="p">[])</span>
                <span class="k">for</span> <span class="n">course_type</span> <span class="ow">in</span> <span class="n">course_types</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">course_type</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;GENED&quot;</span><span class="p">,</span> <span class="s2">&quot;BSDS&quot;</span><span class="p">,</span> <span class="s2">&quot;FND&quot;</span><span class="p">]:</span>
                        <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">term</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">course_type</span><span class="si">}</span><span class="s2">&quot;</span>
                        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">grade_trends</span><span class="p">:</span>
                            <span class="n">grade_trends</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                                <span class="s2">&quot;term&quot;</span><span class="p">:</span> <span class="n">term</span><span class="p">,</span>
                                <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">time_slot</span><span class="o">.</span><span class="n">year</span><span class="p">,</span>
                                <span class="s2">&quot;semester&quot;</span><span class="p">:</span> <span class="n">time_slot</span><span class="o">.</span><span class="n">semester</span><span class="p">,</span>
                                <span class="s2">&quot;course_type&quot;</span><span class="p">:</span> <span class="n">course_type</span><span class="p">,</span>
                                <span class="s2">&quot;gpas&quot;</span><span class="p">:</span> <span class="p">[]</span>
                            <span class="p">}</span>
                        <span class="n">grade_trends</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s2">&quot;gpas&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gpa_value</span><span class="p">)</span>

        <span class="n">grade_trends_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">grade_trends</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="n">avg_gpa</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;gpas&quot;</span><span class="p">])</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;gpas&quot;</span><span class="p">])</span>
            <span class="n">grade_trends_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">GradeTrendByCourseType</span><span class="p">(</span>
                <span class="n">term</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;term&quot;</span><span class="p">],</span>
                <span class="n">year</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;year&quot;</span><span class="p">],</span>
                <span class="n">semester</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;semester&quot;</span><span class="p">],</span>
                <span class="n">course_type</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;course_type&quot;</span><span class="p">],</span>
                <span class="n">gpa</span><span class="o">=</span><span class="nb">round</span><span class="p">(</span><span class="n">avg_gpa</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
            <span class="p">))</span>

        <span class="c1"># 11. Prerequisites Completion Status</span>
        <span class="c1"># Get all courses student hasn&#39;t taken yet</span>
        <span class="n">all_courses</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">CourseDB</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="c1"># student_course_ids already computed above</span>

        <span class="n">prerequisites_status</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">course</span> <span class="ow">in</span> <span class="n">all_courses</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">course</span><span class="o">.</span><span class="n">id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">student_course_ids</span><span class="p">:</span>
                <span class="c1"># Get prerequisites for this course</span>
                <span class="n">prereqs</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">PrerequisitesDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
                    <span class="n">PrerequisitesDB</span><span class="o">.</span><span class="n">course_id</span> <span class="o">==</span> <span class="n">course</span><span class="o">.</span><span class="n">id</span>
                <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

                <span class="k">if</span> <span class="n">prereqs</span><span class="p">:</span>
                    <span class="n">total_prereqs</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">prereqs</span><span class="p">)</span>
                    <span class="n">completed_prereqs</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">prereq</span> <span class="ow">in</span> <span class="n">prereqs</span> <span class="k">if</span> <span class="n">prereq</span><span class="o">.</span><span class="n">prerequisite_id</span> <span class="ow">in</span> <span class="n">student_course_ids</span><span class="p">)</span>
                    <span class="n">completion_pct</span> <span class="o">=</span> <span class="p">(</span><span class="n">completed_prereqs</span> <span class="o">/</span> <span class="n">total_prereqs</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="k">if</span> <span class="n">total_prereqs</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span>

                    <span class="n">prerequisites_status</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">PrerequisiteStatus</span><span class="p">(</span>
                        <span class="n">course_id</span><span class="o">=</span><span class="n">course</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                        <span class="n">course_name</span><span class="o">=</span><span class="n">course</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                        <span class="n">prerequisites_completed</span><span class="o">=</span><span class="n">completed_prereqs</span><span class="p">,</span>
                        <span class="n">prerequisites_total</span><span class="o">=</span><span class="n">total_prereqs</span><span class="p">,</span>
                        <span class="n">completion_percentage</span><span class="o">=</span><span class="nb">round</span><span class="p">(</span><span class="n">completion_pct</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="p">))</span>

        <span class="c1"># Sort by completion percentage (highest first)</span>
        <span class="n">prerequisites_status</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">completion_percentage</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="c1"># Limit to top 20 to avoid overwhelming the UI</span>
        <span class="n">prerequisites_status</span> <span class="o">=</span> <span class="n">prerequisites_status</span><span class="p">[:</span><span class="mi">20</span><span class="p">]</span>

        <span class="c1"># 12. Course Difficulty vs Performance</span>
        <span class="n">course_difficulty</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">takes</span><span class="p">,</span> <span class="n">section</span><span class="p">,</span> <span class="n">time_slot</span><span class="p">,</span> <span class="n">course</span> <span class="ow">in</span> <span class="n">all_takes_data</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">takes</span><span class="o">.</span><span class="n">grade</span> <span class="ow">and</span> <span class="n">takes</span><span class="o">.</span><span class="n">grade</span> <span class="ow">in</span> <span class="n">GRADE_TO_GPA</span><span class="p">:</span>
                <span class="n">course_difficulty</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">CourseDifficultyPerformance</span><span class="p">(</span>
                    <span class="n">course_id</span><span class="o">=</span><span class="n">course</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                    <span class="n">course_name</span><span class="o">=</span><span class="n">course</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                    <span class="n">credits</span><span class="o">=</span><span class="n">course</span><span class="o">.</span><span class="n">credits</span><span class="p">,</span>
                    <span class="n">grade</span><span class="o">=</span><span class="n">takes</span><span class="o">.</span><span class="n">grade</span><span class="p">,</span>
                    <span class="n">gpa_value</span><span class="o">=</span><span class="n">GRADE_TO_GPA</span><span class="p">[</span><span class="n">takes</span><span class="o">.</span><span class="n">grade</span><span class="p">]</span>
                <span class="p">))</span>

        <span class="c1"># 13. Semester Performance Heatmap</span>
        <span class="n">heatmap_data</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">days_of_week</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Monday&quot;</span><span class="p">,</span> <span class="s2">&quot;Tuesday&quot;</span><span class="p">,</span> <span class="s2">&quot;Wednesday&quot;</span><span class="p">,</span> <span class="s2">&quot;Thursday&quot;</span><span class="p">,</span> <span class="s2">&quot;Friday&quot;</span><span class="p">,</span> <span class="s2">&quot;Saturday&quot;</span><span class="p">,</span> <span class="s2">&quot;Sunday&quot;</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">takes</span><span class="p">,</span> <span class="n">section</span><span class="p">,</span> <span class="n">time_slot</span><span class="p">,</span> <span class="n">course</span> <span class="ow">in</span> <span class="n">all_takes_data</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">takes</span><span class="o">.</span><span class="n">grade</span> <span class="ow">and</span> <span class="n">takes</span><span class="o">.</span><span class="n">grade</span> <span class="ow">in</span> <span class="n">GRADE_TO_GPA</span><span class="p">:</span>
                <span class="n">gpa_value</span> <span class="o">=</span> <span class="n">GRADE_TO_GPA</span><span class="p">[</span><span class="n">takes</span><span class="o">.</span><span class="n">grade</span><span class="p">]</span>
                <span class="n">day</span> <span class="o">=</span> <span class="n">time_slot</span><span class="o">.</span><span class="n">day_of_week</span>
                <span class="c1"># Map day abbreviations to full names</span>
                <span class="n">day_map</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Mon&quot;</span><span class="p">:</span> <span class="s2">&quot;Monday&quot;</span><span class="p">,</span> <span class="s2">&quot;Tue&quot;</span><span class="p">:</span> <span class="s2">&quot;Tuesday&quot;</span><span class="p">,</span> <span class="s2">&quot;Wed&quot;</span><span class="p">:</span> <span class="s2">&quot;Wednesday&quot;</span><span class="p">,</span> 
                          <span class="s2">&quot;Thu&quot;</span><span class="p">:</span> <span class="s2">&quot;Thursday&quot;</span><span class="p">,</span> <span class="s2">&quot;Fri&quot;</span><span class="p">:</span> <span class="s2">&quot;Friday&quot;</span><span class="p">,</span> <span class="s2">&quot;Sat&quot;</span><span class="p">:</span> <span class="s2">&quot;Saturday&quot;</span><span class="p">,</span> <span class="s2">&quot;Sun&quot;</span><span class="p">:</span> <span class="s2">&quot;Sunday&quot;</span><span class="p">}</span>
                <span class="n">day_full</span> <span class="o">=</span> <span class="n">day_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">day</span><span class="p">,</span> <span class="n">day</span><span class="p">)</span>
                <span class="n">time_category</span> <span class="o">=</span> <span class="n">get_time_slot_category</span><span class="p">(</span><span class="n">time_slot</span><span class="o">.</span><span class="n">start_time</span><span class="p">)</span>

                <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">day_full</span><span class="si">}</span><span class="s2">-</span><span class="si">{</span><span class="n">time_category</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">heatmap_data</span><span class="p">:</span>
                    <span class="n">heatmap_data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                        <span class="s2">&quot;day_of_week&quot;</span><span class="p">:</span> <span class="n">day_full</span><span class="p">,</span>
                        <span class="s2">&quot;time_slot&quot;</span><span class="p">:</span> <span class="n">time_category</span><span class="p">,</span>
                        <span class="s2">&quot;gpas&quot;</span><span class="p">:</span> <span class="p">[],</span>
                        <span class="s2">&quot;count&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">}</span>
                <span class="n">heatmap_data</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s2">&quot;gpas&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gpa_value</span><span class="p">)</span>
                <span class="n">heatmap_data</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s2">&quot;count&quot;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">semester_heatmap</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">heatmap_data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s2">&quot;gpas&quot;</span><span class="p">]:</span>
                <span class="n">avg_gpa</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;gpas&quot;</span><span class="p">])</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;gpas&quot;</span><span class="p">])</span>
                <span class="n">semester_heatmap</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">SemesterPerformanceHeatmap</span><span class="p">(</span>
                    <span class="n">day_of_week</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;day_of_week&quot;</span><span class="p">],</span>
                    <span class="n">time_slot</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;time_slot&quot;</span><span class="p">],</span>
                    <span class="n">average_gpa</span><span class="o">=</span><span class="nb">round</span><span class="p">(</span><span class="n">avg_gpa</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
                    <span class="n">course_count</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;count&quot;</span><span class="p">]</span>
                <span class="p">))</span>

        <span class="k">return</span> <span class="n">StatisticsResponse</span><span class="p">(</span>
            <span class="n">gpa_progress</span><span class="o">=</span><span class="n">gpa_progress</span><span class="p">,</span>
            <span class="n">credits_progress</span><span class="o">=</span><span class="n">credits_progress</span><span class="p">,</span>
            <span class="n">semester_progress</span><span class="o">=</span><span class="n">semester_progress</span><span class="p">,</span>
            <span class="n">course_completion</span><span class="o">=</span><span class="n">course_completion</span><span class="p">,</span>
            <span class="n">grade_distribution</span><span class="o">=</span><span class="n">grade_distribution</span><span class="p">,</span>
            <span class="n">performance_by_course_type</span><span class="o">=</span><span class="n">performance_by_course_type</span><span class="p">,</span>
            <span class="n">credit_accumulation</span><span class="o">=</span><span class="n">credit_accumulation</span><span class="p">,</span>
            <span class="n">time_slot_performance</span><span class="o">=</span><span class="n">time_slot_perf_list</span><span class="p">,</span>
            <span class="n">course_load</span><span class="o">=</span><span class="n">course_load</span><span class="p">,</span>
            <span class="n">grade_trends_by_course_type</span><span class="o">=</span><span class="n">grade_trends_list</span><span class="p">,</span>
            <span class="n">prerequisites_status</span><span class="o">=</span><span class="n">prerequisites_status</span><span class="p">,</span>
            <span class="n">course_difficulty_performance</span><span class="o">=</span><span class="n">course_difficulty</span><span class="p">,</span>
            <span class="n">semester_performance_heatmap</span><span class="o">=</span><span class="n">semester_heatmap</span>
        <span class="p">)</span>
    <span class="k">except</span> <span class="n">HTTPException</span><span class="p">:</span>
        <span class="k">raise</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="c1"># Log the error and return 500</span>
        <span class="kn">import</span><span class="w"> </span><span class="nn">traceback</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error in get_student_statistics: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">())</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
            <span class="n">status_code</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span>
            <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Internal server error while calculating statistics: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_takes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_takes</span><span class="p">(</span><span class="n">student_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">section_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get all student enrollments (takes) with optional filtering.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>student_id (Optional[int]): Filter by student ID.
section_id (Optional[int]): Filter by section ID.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>list[Takes]: List of enrollment records.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/takes&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">Takes</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Enrollments&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_takes</span><span class="p">(</span><span class="n">student_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">section_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all student enrollments (takes) with optional filtering.</span>

<span class="sd">    Input:</span>
<span class="sd">        student_id (Optional[int]): Filter by student ID.</span>
<span class="sd">        section_id (Optional[int]): Filter by section ID.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        list[Takes]: List of enrollment records.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">TakesDB</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">student_id</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">TakesDB</span><span class="o">.</span><span class="n">student_id</span> <span class="o">==</span> <span class="n">student_id</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">section_id</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">TakesDB</span><span class="o">.</span><span class="n">section_id</span> <span class="o">==</span> <span class="n">section_id</span><span class="p">)</span>
    <span class="n">takes</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">takes</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_timeslot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_timeslot</span><span class="p">(</span><span class="n">time_slot_id</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Retrieve a time slot by its unique ID.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>time_slot_id (int): The unique identifier of the time slot.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>TimeSlot: The time slot's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the time slot is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/timeslots/</span><span class="si">{time_slot_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">TimeSlot</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Time Slots&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_timeslot</span><span class="p">(</span><span class="n">time_slot_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Retrieve a time slot by its unique ID.</span>

<span class="sd">    Input:</span>
<span class="sd">        time_slot_id (int): The unique identifier of the time slot.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        TimeSlot: The time slot&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the time slot is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">timeslot</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">TimeSlotDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">TimeSlotDB</span><span class="o">.</span><span class="n">time_slot_id</span> <span class="o">==</span> <span class="n">time_slot_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">timeslot</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Time slot not found&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">timeslot</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_timeslots" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_timeslots</span><span class="p">(</span><span class="n">skip</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get all time slots with pagination.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>skip (int): Number of records to skip, default 0.
limit (int): Maximum number of records to return, default 100.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>list[TimeSlot]: List of time slots.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/timeslots&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">TimeSlot</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Time Slots&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_timeslots</span><span class="p">(</span><span class="n">skip</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">limit</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all time slots with pagination.</span>

<span class="sd">    Input:</span>
<span class="sd">        skip (int): Number of records to skip, default 0.</span>
<span class="sd">        limit (int): Maximum number of records to return, default 100.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        list[TimeSlot]: List of time slots.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">timeslots</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">TimeSlotDB</span><span class="p">)</span><span class="o">.</span><span class="n">offset</span><span class="p">(</span><span class="n">skip</span><span class="p">)</span><span class="o">.</span><span class="n">limit</span><span class="p">(</span><span class="n">limit</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">timeslots</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.get_works" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_works</span><span class="p">(</span><span class="n">instructorid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dept_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Get all instructor-department relationships with optional filtering.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>instructorid (Optional[int]): Filter by instructor ID.
dept_name (Optional[str]): Filter by department name.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>list[Works]: List of instructor-department relationships.</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/works&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">list</span><span class="p">[</span><span class="n">Works</span><span class="p">],</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Works&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_works</span><span class="p">(</span><span class="n">instructorid</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">dept_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get all instructor-department relationships with optional filtering.</span>

<span class="sd">    Input:</span>
<span class="sd">        instructorid (Optional[int]): Filter by instructor ID.</span>
<span class="sd">        dept_name (Optional[str]): Filter by department name.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        list[Works]: List of instructor-department relationships.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">query</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">WorksDB</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">instructorid</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">WorksDB</span><span class="o">.</span><span class="n">instructorid</span> <span class="o">==</span> <span class="n">instructorid</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">dept_name</span><span class="p">:</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">WorksDB</span><span class="o">.</span><span class="n">dept_name</span> <span class="o">==</span> <span class="n">dept_name</span><span class="p">)</span>
    <span class="n">works</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">works</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.health_check" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">health_check</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">



<details class="description" open>
  <summary>Description</summary>
  <p>Health check endpoint for monitoring and load balancers.
Checks API and database connectivity.</p>
</details>

<details class="input" open>
  <summary>Input</summary>
  <p>None (uses database dependency)</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: Health status with API and database status</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/health&quot;</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Health&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">health_check</span><span class="p">(</span><span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>
<span class="sd">        Health check endpoint for monitoring and load balancers.</span>
<span class="sd">        Checks API and database connectivity.</span>

<span class="sd">    Input:</span>
<span class="sd">        None (uses database dependency)</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: Health status with API and database status</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Test database connection</span>
        <span class="n">db</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">text</span><span class="p">(</span><span class="s2">&quot;SELECT 1&quot;</span><span class="p">))</span>
        <span class="n">db_status</span> <span class="o">=</span> <span class="s2">&quot;connected&quot;</span>
    <span class="k">except</span> <span class="n">SQLAlchemyError</span><span class="p">:</span>
        <span class="n">db_status</span> <span class="o">=</span> <span class="s2">&quot;disconnected&quot;</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;healthy&quot;</span> <span class="k">if</span> <span class="n">db_status</span> <span class="o">==</span> <span class="s2">&quot;connected&quot;</span> <span class="k">else</span> <span class="s2">&quot;unhealthy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;api&quot;</span><span class="p">:</span> <span class="s2">&quot;operational&quot;</span><span class="p">,</span>
        <span class="s2">&quot;database&quot;</span><span class="p">:</span> <span class="n">db_status</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.login" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">login</span><span class="p">(</span><span class="n">credentials</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">



<details class="description" open>
  <summary>Description</summary>
  <p>Authenticate a user with username and password.</p>
</details>

<details class="input" open>
  <summary>Input</summary>
  <p>credentials (LoginRequest): Username and password
db (Session): Database session</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>dict: User information including user_id, username, student_id, and student info</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If credentials are invalid</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/auth/login&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="nb">dict</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Authentication&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">login</span><span class="p">(</span><span class="n">credentials</span><span class="p">:</span> <span class="n">LoginRequest</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>
<span class="sd">        Authenticate a user with username and password.</span>

<span class="sd">    Input:</span>
<span class="sd">        credentials (LoginRequest): Username and password</span>
<span class="sd">        db (Session): Database session</span>

<span class="sd">    Output:</span>
<span class="sd">        dict: User information including user_id, username, student_id, and student info</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If credentials are invalid</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">UserDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">UserDB</span><span class="o">.</span><span class="n">username</span> <span class="o">==</span> <span class="n">credentials</span><span class="o">.</span><span class="n">username</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">user</span> <span class="ow">or</span> <span class="n">user</span><span class="o">.</span><span class="n">password</span> <span class="o">!=</span> <span class="n">credentials</span><span class="o">.</span><span class="n">password</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">401</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Invalid username or password&quot;</span><span class="p">)</span>

    <span class="c1"># Get student information if linked</span>
    <span class="n">student</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">user</span><span class="o">.</span><span class="n">student_id</span><span class="p">:</span>
        <span class="n">student</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">StudentDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">StudentDB</span><span class="o">.</span><span class="n">student_id</span> <span class="o">==</span> <span class="n">user</span><span class="o">.</span><span class="n">student_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="n">user</span><span class="o">.</span><span class="n">user_id</span><span class="p">,</span>
        <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="n">user</span><span class="o">.</span><span class="n">username</span><span class="p">,</span>
        <span class="s2">&quot;student_id&quot;</span><span class="p">:</span> <span class="n">user</span><span class="o">.</span><span class="n">student_id</span><span class="p">,</span>
        <span class="s2">&quot;student&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;student_id&quot;</span><span class="p">:</span> <span class="n">student</span><span class="o">.</span><span class="n">student_id</span><span class="p">,</span>
            <span class="s2">&quot;student_name&quot;</span><span class="p">:</span> <span class="n">student</span><span class="o">.</span><span class="n">student_name</span><span class="p">,</span>
            <span class="s2">&quot;credit&quot;</span><span class="p">:</span> <span class="n">student</span><span class="o">.</span><span class="n">credit</span><span class="p">,</span>
            <span class="s2">&quot;program_name&quot;</span><span class="p">:</span> <span class="n">student</span><span class="o">.</span><span class="n">program_name</span>
        <span class="p">}</span> <span class="k">if</span> <span class="n">student</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.startup_event" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">startup_event</span><span class="p">()</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">



<details class="description" open>
  <summary>Description</summary>
  <p>Initialize database on startup. Creates tables and loads data if database is empty.</p>
</details>

<details class="input" open>
  <summary>Input</summary>
  <p>None</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>None</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">on_event</span><span class="p">(</span><span class="s2">&quot;startup&quot;</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">startup_event</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>
<span class="sd">        Initialize database on startup. Creates tables and loads data if database is empty.</span>

<span class="sd">    Input:</span>
<span class="sd">        None</span>

<span class="sd">    Output:</span>
<span class="sd">        None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ensure_database_initialized</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.update_cluster" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_cluster</span><span class="p">(</span><span class="n">cluster_id</span><span class="p">,</span> <span class="n">updated_cluster</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Update an existing cluster's details in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>cluster_id (int): The unique identifier of the cluster to update.
updated_cluster (ClusterCreate): The new cluster data.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Cluster: The updated cluster's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the cluster is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/clusters/</span><span class="si">{cluster_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Cluster</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Clusters&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">update_cluster</span><span class="p">(</span><span class="n">cluster_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">updated_cluster</span><span class="p">:</span> <span class="n">ClusterCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Update an existing cluster&#39;s details in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        cluster_id (int): The unique identifier of the cluster to update.</span>
<span class="sd">        updated_cluster (ClusterCreate): The new cluster data.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Cluster: The updated cluster&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the cluster is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cluster</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">ClusterDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ClusterDB</span><span class="o">.</span><span class="n">cluster_id</span> <span class="o">==</span> <span class="n">cluster_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">cluster</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Cluster not found&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">updated_cluster</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">cluster</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">cluster</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">cluster</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.update_course" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_course</span><span class="p">(</span><span class="n">course_id</span><span class="p">,</span> <span class="n">updated_course</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Update an existing course's details in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>course_id (int): The unique identifier of the course to update.
updated_course (CourseCreate): The new course data.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Course: The updated course's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the course is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/courses/</span><span class="si">{course_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Course</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Courses&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">update_course</span><span class="p">(</span><span class="n">course_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">updated_course</span><span class="p">:</span> <span class="n">CourseCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Update an existing course&#39;s details in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        course_id (int): The unique identifier of the course to update.</span>
<span class="sd">        updated_course (CourseCreate): The new course data.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Course: The updated course&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the course is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">course</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">CourseDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">CourseDB</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">course_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">course</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Course not found&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">updated_course</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">course</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">course</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">course</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.update_department" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_department</span><span class="p">(</span><span class="n">dept_name</span><span class="p">,</span> <span class="n">updated_department</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Update an existing department's details in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>dept_name (str): The name of the department to update.
updated_department (DepartmentCreate): The new department data.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Department: The updated department's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the department is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">828</span>
<span class="normal">829</span>
<span class="normal">830</span>
<span class="normal">831</span>
<span class="normal">832</span>
<span class="normal">833</span>
<span class="normal">834</span>
<span class="normal">835</span>
<span class="normal">836</span>
<span class="normal">837</span>
<span class="normal">838</span>
<span class="normal">839</span>
<span class="normal">840</span>
<span class="normal">841</span>
<span class="normal">842</span>
<span class="normal">843</span>
<span class="normal">844</span>
<span class="normal">845</span>
<span class="normal">846</span>
<span class="normal">847</span>
<span class="normal">848</span>
<span class="normal">849</span>
<span class="normal">850</span>
<span class="normal">851</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/departments/</span><span class="si">{dept_name}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Department</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Departments&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">update_department</span><span class="p">(</span><span class="n">dept_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">updated_department</span><span class="p">:</span> <span class="n">DepartmentCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Update an existing department&#39;s details in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        dept_name (str): The name of the department to update.</span>
<span class="sd">        updated_department (DepartmentCreate): The new department data.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Department: The updated department&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the department is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">department</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">DepartmentDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">DepartmentDB</span><span class="o">.</span><span class="n">dept_name</span> <span class="o">==</span> <span class="n">dept_name</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">department</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Department not found&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">updated_department</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">department</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">department</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">department</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.update_draft_schedule" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_draft_schedule</span><span class="p">(</span><span class="n">draft_schedule_id</span><span class="p">,</span> <span class="n">schedule_data</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Update an existing draft schedule.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>draft_schedule_id (int): The ID of the draft schedule to update.
schedule_data (DraftScheduleUpdate): The updated schedule data.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>DraftSchedule: The updated draft schedule.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the draft schedule is not found or sections are invalid.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2181</span>
<span class="normal">2182</span>
<span class="normal">2183</span>
<span class="normal">2184</span>
<span class="normal">2185</span>
<span class="normal">2186</span>
<span class="normal">2187</span>
<span class="normal">2188</span>
<span class="normal">2189</span>
<span class="normal">2190</span>
<span class="normal">2191</span>
<span class="normal">2192</span>
<span class="normal">2193</span>
<span class="normal">2194</span>
<span class="normal">2195</span>
<span class="normal">2196</span>
<span class="normal">2197</span>
<span class="normal">2198</span>
<span class="normal">2199</span>
<span class="normal">2200</span>
<span class="normal">2201</span>
<span class="normal">2202</span>
<span class="normal">2203</span>
<span class="normal">2204</span>
<span class="normal">2205</span>
<span class="normal">2206</span>
<span class="normal">2207</span>
<span class="normal">2208</span>
<span class="normal">2209</span>
<span class="normal">2210</span>
<span class="normal">2211</span>
<span class="normal">2212</span>
<span class="normal">2213</span>
<span class="normal">2214</span>
<span class="normal">2215</span>
<span class="normal">2216</span>
<span class="normal">2217</span>
<span class="normal">2218</span>
<span class="normal">2219</span>
<span class="normal">2220</span>
<span class="normal">2221</span>
<span class="normal">2222</span>
<span class="normal">2223</span>
<span class="normal">2224</span>
<span class="normal">2225</span>
<span class="normal">2226</span>
<span class="normal">2227</span>
<span class="normal">2228</span>
<span class="normal">2229</span>
<span class="normal">2230</span>
<span class="normal">2231</span>
<span class="normal">2232</span>
<span class="normal">2233</span>
<span class="normal">2234</span>
<span class="normal">2235</span>
<span class="normal">2236</span>
<span class="normal">2237</span>
<span class="normal">2238</span>
<span class="normal">2239</span>
<span class="normal">2240</span>
<span class="normal">2241</span>
<span class="normal">2242</span>
<span class="normal">2243</span>
<span class="normal">2244</span>
<span class="normal">2245</span>
<span class="normal">2246</span>
<span class="normal">2247</span>
<span class="normal">2248</span>
<span class="normal">2249</span>
<span class="normal">2250</span>
<span class="normal">2251</span>
<span class="normal">2252</span>
<span class="normal">2253</span>
<span class="normal">2254</span>
<span class="normal">2255</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/draft-schedules/</span><span class="si">{draft_schedule_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">DraftSchedule</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Draft Schedules&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">update_draft_schedule</span><span class="p">(</span>
    <span class="n">draft_schedule_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">schedule_data</span><span class="p">:</span> <span class="n">DraftScheduleUpdate</span><span class="p">,</span>
    <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Update an existing draft schedule.</span>

<span class="sd">    Input:</span>
<span class="sd">        draft_schedule_id (int): The ID of the draft schedule to update.</span>
<span class="sd">        schedule_data (DraftScheduleUpdate): The updated schedule data.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        DraftSchedule: The updated draft schedule.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the draft schedule is not found or sections are invalid.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">schedule</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">DraftScheduleDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
        <span class="n">DraftScheduleDB</span><span class="o">.</span><span class="n">draft_schedule_id</span> <span class="o">==</span> <span class="n">draft_schedule_id</span>
    <span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">schedule</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Draft schedule not found&quot;</span><span class="p">)</span>

    <span class="c1"># Update name if provided</span>
    <span class="k">if</span> <span class="n">schedule_data</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">schedule</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">schedule_data</span><span class="o">.</span><span class="n">name</span>

    <span class="c1"># Update sections if provided</span>
    <span class="k">if</span> <span class="n">schedule_data</span><span class="o">.</span><span class="n">section_ids</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># Verify all sections exist</span>
        <span class="n">existing_sections</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">SectionDB</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
            <span class="n">SectionDB</span><span class="o">.</span><span class="n">id</span><span class="o">.</span><span class="n">in_</span><span class="p">(</span><span class="n">schedule_data</span><span class="o">.</span><span class="n">section_ids</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="n">existing_section_ids</span> <span class="o">=</span> <span class="p">{</span><span class="n">sid</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">sid</span> <span class="ow">in</span> <span class="n">existing_sections</span><span class="p">}</span>
        <span class="n">invalid_sections</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">schedule_data</span><span class="o">.</span><span class="n">section_ids</span><span class="p">)</span> <span class="o">-</span> <span class="n">existing_section_ids</span>
        <span class="k">if</span> <span class="n">invalid_sections</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span>
                <span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
                <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invalid section IDs: </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">invalid_sections</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>

        <span class="c1"># Delete existing section associations</span>
        <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">DraftScheduleSectionDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
            <span class="n">DraftScheduleSectionDB</span><span class="o">.</span><span class="n">draft_schedule_id</span> <span class="o">==</span> <span class="n">draft_schedule_id</span>
        <span class="p">)</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>

        <span class="c1"># Add new section associations</span>
        <span class="k">for</span> <span class="n">section_id</span> <span class="ow">in</span> <span class="n">schedule_data</span><span class="o">.</span><span class="n">section_ids</span><span class="p">:</span>
            <span class="n">schedule_section</span> <span class="o">=</span> <span class="n">DraftScheduleSectionDB</span><span class="p">(</span>
                <span class="n">draft_schedule_id</span><span class="o">=</span><span class="n">draft_schedule_id</span><span class="p">,</span>
                <span class="n">section_id</span><span class="o">=</span><span class="n">section_id</span>
            <span class="p">)</span>
            <span class="n">db</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">schedule_section</span><span class="p">)</span>

    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span>

    <span class="c1"># Get updated section IDs</span>
    <span class="n">section_ids</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">DraftScheduleSectionDB</span><span class="o">.</span><span class="n">section_id</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
        <span class="n">DraftScheduleSectionDB</span><span class="o">.</span><span class="n">draft_schedule_id</span> <span class="o">==</span> <span class="n">schedule</span><span class="o">.</span><span class="n">draft_schedule_id</span>
    <span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="n">section_id_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">sid</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">sid</span> <span class="ow">in</span> <span class="n">section_ids</span><span class="p">]</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;draft_schedule_id&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">draft_schedule_id</span><span class="p">,</span>
        <span class="s2">&quot;student_id&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">student_id</span><span class="p">,</span>
        <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">created_at</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">created_at</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;updated_at&quot;</span><span class="p">:</span> <span class="n">schedule</span><span class="o">.</span><span class="n">updated_at</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">schedule</span><span class="o">.</span><span class="n">updated_at</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
        <span class="s2">&quot;section_ids&quot;</span><span class="p">:</span> <span class="n">section_id_list</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.update_instructor" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_instructor</span><span class="p">(</span><span class="n">instructor_id</span><span class="p">,</span> <span class="n">updated_instructor</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Update an existing instructor's details in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>instructor_id (int): The unique identifier of the instructor to update.
updated_instructor (InstructorCreate): The new instructor data.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Instructor: The updated instructor's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the instructor is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span>
<span class="normal">733</span>
<span class="normal">734</span>
<span class="normal">735</span>
<span class="normal">736</span>
<span class="normal">737</span>
<span class="normal">738</span>
<span class="normal">739</span>
<span class="normal">740</span>
<span class="normal">741</span>
<span class="normal">742</span>
<span class="normal">743</span>
<span class="normal">744</span>
<span class="normal">745</span>
<span class="normal">746</span>
<span class="normal">747</span>
<span class="normal">748</span>
<span class="normal">749</span>
<span class="normal">750</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/instructors/</span><span class="si">{instructor_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Instructor</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Instructors&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">update_instructor</span><span class="p">(</span><span class="n">instructor_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">updated_instructor</span><span class="p">:</span> <span class="n">InstructorCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Update an existing instructor&#39;s details in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        instructor_id (int): The unique identifier of the instructor to update.</span>
<span class="sd">        updated_instructor (InstructorCreate): The new instructor data.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Instructor: The updated instructor&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the instructor is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">instructor</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">InstructorDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">InstructorDB</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">instructor_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">instructor</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Instructor not found&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">updated_instructor</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">instructor</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">instructor</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">instructor</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.update_location" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_location</span><span class="p">(</span><span class="n">room_id</span><span class="p">,</span> <span class="n">updated_location</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Update an existing location's details in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>room_id (int): The unique identifier of the location to update.
updated_location (LocationCreate): The new location data.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Location: The updated location's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the location is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/locations/</span><span class="si">{room_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Location</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Locations&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">update_location</span><span class="p">(</span><span class="n">room_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">updated_location</span><span class="p">:</span> <span class="n">LocationCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Update an existing location&#39;s details in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        room_id (int): The unique identifier of the location to update.</span>
<span class="sd">        updated_location (LocationCreate): The new location data.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Location: The updated location&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the location is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">location</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">LocationDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">LocationDB</span><span class="o">.</span><span class="n">room_id</span> <span class="o">==</span> <span class="n">room_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">location</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Location not found&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">updated_location</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">location</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">location</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">location</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.update_program" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_program</span><span class="p">(</span><span class="n">prog_name</span><span class="p">,</span> <span class="n">updated_program</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Update an existing program's details in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>prog_name (str): The name of the program to update.
updated_program (ProgramCreate): The new program data.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Program: The updated program's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the program is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">929</span>
<span class="normal">930</span>
<span class="normal">931</span>
<span class="normal">932</span>
<span class="normal">933</span>
<span class="normal">934</span>
<span class="normal">935</span>
<span class="normal">936</span>
<span class="normal">937</span>
<span class="normal">938</span>
<span class="normal">939</span>
<span class="normal">940</span>
<span class="normal">941</span>
<span class="normal">942</span>
<span class="normal">943</span>
<span class="normal">944</span>
<span class="normal">945</span>
<span class="normal">946</span>
<span class="normal">947</span>
<span class="normal">948</span>
<span class="normal">949</span>
<span class="normal">950</span>
<span class="normal">951</span>
<span class="normal">952</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/programs/</span><span class="si">{prog_name}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Program</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Programs&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">update_program</span><span class="p">(</span><span class="n">prog_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">updated_program</span><span class="p">:</span> <span class="n">ProgramCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Update an existing program&#39;s details in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        prog_name (str): The name of the program to update.</span>
<span class="sd">        updated_program (ProgramCreate): The new program data.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Program: The updated program&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the program is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">program</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">ProgramDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">ProgramDB</span><span class="o">.</span><span class="n">prog_name</span> <span class="o">==</span> <span class="n">prog_name</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">program</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Program not found&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">updated_program</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">program</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">program</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">program</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.update_recommendation_result" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_recommendation_result</span><span class="p">(</span><span class="n">result_id</span><span class="p">,</span> <span class="n">updated_recommendation</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Update an existing recommendation result's details in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>result_id (int): The unique identifier of the recommendation result to update.
updated_recommendation (RecommendationResultCreate): The new recommendation result data.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>RecommendationResult: The updated recommendation result's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the recommendation result is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/recommendation-results/</span><span class="si">{result_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">RecommendationResult</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Recommendations&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">update_recommendation_result</span><span class="p">(</span>
    <span class="n">result_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">updated_recommendation</span><span class="p">:</span> <span class="n">RecommendationResultCreate</span><span class="p">,</span>
    <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Update an existing recommendation result&#39;s details in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        result_id (int): The unique identifier of the recommendation result to update.</span>
<span class="sd">        updated_recommendation (RecommendationResultCreate): The new recommendation result data.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        RecommendationResult: The updated recommendation result&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the recommendation result is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">RecommendationResultDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">RecommendationResultDB</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">result_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">result</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Recommendation result not found&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">updated_recommendation</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="s2">&quot;student_id&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">student_id</span><span class="p">,</span>
        <span class="s2">&quot;course_id&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">course_id</span><span class="p">,</span>
        <span class="s2">&quot;recommended_section_id&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">recommended_section_id</span><span class="p">,</span>
        <span class="s2">&quot;course_name&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">course_name</span><span class="p">,</span>
        <span class="s2">&quot;cluster&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">cluster</span><span class="p">,</span>
        <span class="s2">&quot;credits&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">credits</span><span class="p">,</span>
        <span class="s2">&quot;time_slot&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">time_slot</span><span class="p">,</span>
        <span class="s2">&quot;recommendation_score&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">recommendation_score</span><span class="p">,</span>
        <span class="s2">&quot;why_recommended&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">why_recommended</span><span class="p">,</span>
        <span class="s2">&quot;slot_number&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">slot_number</span><span class="p">,</span>
        <span class="s2">&quot;model_version&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">model_version</span><span class="p">,</span>
        <span class="s2">&quot;time_preference&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">time_preference</span><span class="p">,</span>
        <span class="s2">&quot;semester&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">semester</span><span class="p">,</span>
        <span class="s2">&quot;year&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">year</span><span class="p">,</span>
        <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">created_at</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">created_at</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="s2">&quot;updated_at&quot;</span><span class="p">:</span> <span class="n">result</span><span class="o">.</span><span class="n">updated_at</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">updated_at</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.update_section" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_section</span><span class="p">(</span><span class="n">section_id</span><span class="p">,</span> <span class="n">updated_section</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Update an existing section's details in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>section_id (int): The unique identifier of the section to update.
updated_section (SectionCreate): The new section data.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Section: The updated section's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the section is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/sections/</span><span class="si">{section_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Section</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Sections&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">update_section</span><span class="p">(</span><span class="n">section_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">updated_section</span><span class="p">:</span> <span class="n">SectionCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Update an existing section&#39;s details in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        section_id (int): The unique identifier of the section to update.</span>
<span class="sd">        updated_section (SectionCreate): The new section data.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        Section: The updated section&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the section is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">section</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">SectionDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">SectionDB</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="n">section_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">section</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Section not found&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">updated_section</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">section</span>
    <span class="k">except</span> <span class="n">SQLAlchemyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Database error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invalid data: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.update_student" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_student</span><span class="p">(</span><span class="n">student_id</span><span class="p">,</span> <span class="n">updated_student</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Update an existing student's details in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>student_id (int): The unique identifier of the student to update.
updated_student (StudentCreate): The new student data.
db (Session): Database session provided by dependency injection.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Student: The updated student's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the student is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/students/</span><span class="si">{student_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">Student</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Students&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">update_student</span><span class="p">(</span><span class="n">student_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">updated_student</span><span class="p">:</span> <span class="n">StudentCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Update an existing student&#39;s details in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        student_id (int): The unique identifier of the student to update.</span>
<span class="sd">        updated_student (StudentCreate): The new student data.</span>
<span class="sd">        db (Session): Database session provided by dependency injection.</span>

<span class="sd">    Output:</span>
<span class="sd">        Student: The updated student&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the student is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">student</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">StudentDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">StudentDB</span><span class="o">.</span><span class="n">student_id</span> <span class="o">==</span> <span class="n">student_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">student</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Student not found&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">updated_student</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="n">student</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
        <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">student</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">student</span>
    <span class="k">except</span> <span class="n">SQLAlchemyError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Database error: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">rollback</span><span class="p">()</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Invalid data: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="university_app.api.main.update_timeslot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_timeslot</span><span class="p">(</span><span class="n">time_slot_id</span><span class="p">,</span> <span class="n">updated_timeslot</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">))</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-async"><code>async</code></small>
  </span>

</h2>


    <div class="doc doc-contents ">

        <p>Update an existing time slot's details in the database.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>time_slot_id (int): The unique identifier of the time slot to update.
updated_timeslot (TimeSlotCreate): The new time slot data.
db (Session): Database session.</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>TimeSlot: The updated time slot's details.</p>
</details>

<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="fastapi.HTTPException">HTTPException</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the time slot is not found, raises a 404 error.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/main.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@app</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;/timeslots/</span><span class="si">{time_slot_id}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">response_model</span><span class="o">=</span><span class="n">TimeSlot</span><span class="p">,</span> <span class="n">tags</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Time Slots&quot;</span><span class="p">])</span>
<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">update_timeslot</span><span class="p">(</span><span class="n">time_slot_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">updated_timeslot</span><span class="p">:</span> <span class="n">TimeSlotCreate</span><span class="p">,</span> <span class="n">db</span><span class="p">:</span> <span class="n">Session</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_db</span><span class="p">)):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Update an existing time slot&#39;s details in the database.</span>

<span class="sd">    Input:</span>
<span class="sd">        time_slot_id (int): The unique identifier of the time slot to update.</span>
<span class="sd">        updated_timeslot (TimeSlotCreate): The new time slot data.</span>
<span class="sd">        db (Session): Database session.</span>

<span class="sd">    Output:</span>
<span class="sd">        TimeSlot: The updated time slot&#39;s details.</span>

<span class="sd">    Raises:</span>
<span class="sd">        HTTPException: If the time slot is not found, raises a 404 error.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">timeslot</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">TimeSlotDB</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">TimeSlotDB</span><span class="o">.</span><span class="n">time_slot_id</span> <span class="o">==</span> <span class="n">time_slot_id</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">timeslot</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">404</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;Time slot not found&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">updated_timeslot</span><span class="o">.</span><span class="n">model_dump</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="n">timeslot</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
    <span class="n">db</span><span class="o">.</span><span class="n">refresh</span><span class="p">(</span><span class="n">timeslot</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">timeslot</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h2 id="database-configuration">Database Configuration</h2>


<div class="doc doc-object doc-module">



<a id="university_app.api.Database.database"></a>
    <div class="doc doc-contents first">

        <p>Database configuration module for SQLAlchemy connection setup.
Provides database engine, base class, and session management for the application.</p>
<p>This module handles database connection initialization and provides a dependency
injection function for FastAPI endpoints to access database sessions.</p>










<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="university_app.api.Database.database.get_db" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_db</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Description:
Get a database session for dependency injection. Yields a database session and ensures it's closed after use.</p>


<details class="input" open>
  <summary>Input</summary>
  <p>None</p>
</details>

<details class="output" open>
  <summary>Output</summary>
  <p>Generator[Session]: Database session generator that yields a session</p>
</details>

            <details class="mkdocstrings-source">
              <summary>Source code in <code>university_app/api/Database/database.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_db</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Description:</span>
<span class="sd">    Get a database session for dependency injection. Yields a database session and ensures it&#39;s closed after use.</span>

<span class="sd">    Input:</span>
<span class="sd">        None</span>

<span class="sd">    Output:</span>
<span class="sd">        Generator[Session]: Database session generator that yields a session</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">db</span> <span class="o">=</span> <span class="n">SessionLocal</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">db</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">db</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div><h2 id="schema-definitions">Schema Definitions</h2>


<div class="doc doc-object doc-module">



<a id="university_app.api.Database.schema"></a>
    <div class="doc doc-contents first">

        <p>Pydantic schema definitions for request and response validation.
Provides data validation schemas for all API endpoints including student, course, and section models.</p>










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.Cluster" class="doc doc-heading">
            <code>Cluster</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Response schema for cluster</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Cluster</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response schema for cluster&quot;&quot;&quot;</span>
    <span class="n">cluster_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">cluster_number</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">theme</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">from_attributes</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.ClusterCreate" class="doc doc-heading">
            <code>ClusterCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for creating a cluster</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ClusterCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for creating a cluster&quot;&quot;&quot;</span>
    <span class="n">cluster_number</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">theme</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.Course" class="doc doc-heading">
            <code>Course</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Response schema for course</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Course</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response schema for course&quot;&quot;&quot;</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">credits</span><span class="p">:</span> <span class="nb">int</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">from_attributes</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.CourseCluster" class="doc doc-heading">
            <code>CourseCluster</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Response schema for course_cluster</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CourseCluster</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response schema for course_cluster&quot;&quot;&quot;</span>
    <span class="n">course_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">cluster_id</span><span class="p">:</span> <span class="nb">int</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">from_attributes</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.CourseClusterCreate" class="doc doc-heading">
            <code>CourseClusterCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for creating a course_cluster record</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CourseClusterCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for creating a course_cluster record&quot;&quot;&quot;</span>
    <span class="n">course_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">cluster_id</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.CourseCreate" class="doc doc-heading">
            <code>CourseCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for creating a course</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">CourseCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for creating a course&quot;&quot;&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">credits</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.Department" class="doc doc-heading">
            <code>Department</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Response schema for department</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Department</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response schema for department&quot;&quot;&quot;</span>
    <span class="n">dept_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">roomID</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">from_attributes</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.DepartmentCreate" class="doc doc-heading">
            <code>DepartmentCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for creating a department</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DepartmentCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for creating a department&quot;&quot;&quot;</span>
    <span class="n">dept_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">roomID</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.DraftSchedule" class="doc doc-heading">
            <code>DraftSchedule</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Response schema for draft schedule</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DraftSchedule</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response schema for draft schedule&quot;&quot;&quot;</span>
    <span class="n">draft_schedule_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">student_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">created_at</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">updated_at</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">section_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># List of section IDs in this schedule</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">from_attributes</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.DraftScheduleCreate" class="doc doc-heading">
            <code>DraftScheduleCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for creating a draft schedule</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DraftScheduleCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for creating a draft schedule&quot;&quot;&quot;</span>
    <span class="n">student_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">section_ids</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>  <span class="c1"># List of section IDs to include in the schedule</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.DraftScheduleUpdate" class="doc doc-heading">
            <code>DraftScheduleUpdate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for updating a draft schedule</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">DraftScheduleUpdate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for updating a draft schedule&quot;&quot;&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">section_ids</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Replace all sections with this list</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.HasCourse" class="doc doc-heading">
            <code>HasCourse</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Response schema for hascourse (program-course relationship)</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">HasCourse</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response schema for hascourse (program-course relationship)&quot;&quot;&quot;</span>
    <span class="n">prog_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">courseid</span><span class="p">:</span> <span class="nb">int</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">from_attributes</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.HasCourseCreate" class="doc doc-heading">
            <code>HasCourseCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for creating a hascourse record</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">HasCourseCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for creating a hascourse record&quot;&quot;&quot;</span>
    <span class="n">prog_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">courseid</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.Instructor" class="doc doc-heading">
            <code>Instructor</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Response schema for instructor</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Instructor</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response schema for instructor&quot;&quot;&quot;</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">bio_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">room_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">from_attributes</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.InstructorCreate" class="doc doc-heading">
            <code>InstructorCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for creating an instructor</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">InstructorCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for creating an instructor&quot;&quot;&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">bio_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">room_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.Location" class="doc doc-heading">
            <code>Location</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Response schema for location</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Location</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response schema for location&quot;&quot;&quot;</span>
    <span class="n">room_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">building_room_name</span><span class="p">:</span> <span class="nb">str</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">from_attributes</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.LocationCreate" class="doc doc-heading">
            <code>LocationCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for creating a location</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">LocationCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for creating a location&quot;&quot;&quot;</span>
    <span class="n">building_room_name</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.Preferred" class="doc doc-heading">
            <code>Preferred</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Response schema for preferred</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Preferred</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response schema for preferred&quot;&quot;&quot;</span>
    <span class="n">student_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">course_id</span><span class="p">:</span> <span class="nb">int</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">from_attributes</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.PreferredCreate" class="doc doc-heading">
            <code>PreferredCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for creating a preferred record</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PreferredCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for creating a preferred record&quot;&quot;&quot;</span>
    <span class="n">student_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">course_id</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.Prerequisites" class="doc doc-heading">
            <code>Prerequisites</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Response schema for prerequisites</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Prerequisites</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response schema for prerequisites&quot;&quot;&quot;</span>
    <span class="n">course_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">prerequisite_id</span><span class="p">:</span> <span class="nb">int</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">from_attributes</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.PrerequisitesCreate" class="doc doc-heading">
            <code>PrerequisitesCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for creating prerequisites</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">PrerequisitesCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for creating prerequisites&quot;&quot;&quot;</span>
    <span class="n">course_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">prerequisite_id</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.Program" class="doc doc-heading">
            <code>Program</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Response schema for program</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Program</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response schema for program&quot;&quot;&quot;</span>
    <span class="n">prog_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">dept_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">from_attributes</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.ProgramCreate" class="doc doc-heading">
            <code>ProgramCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for creating a program</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ProgramCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for creating a program&quot;&quot;&quot;</span>
    <span class="n">prog_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">dept_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.RecommendationResult" class="doc doc-heading">
            <code>RecommendationResult</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Response schema for recommendation result</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RecommendationResult</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response schema for recommendation result&quot;&quot;&quot;</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">student_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">course_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">recommended_section_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">time_slot</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">recommendation_score</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">why_recommended</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">slot_number</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">model_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">time_preference</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">semester</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">year</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">course_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">cluster</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">credits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">created_at</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">updated_at</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">from_attributes</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.RecommendationResultCreate" class="doc doc-heading">
            <code>RecommendationResultCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for creating a recommendation result</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RecommendationResultCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for creating a recommendation result&quot;&quot;&quot;</span>
    <span class="n">student_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">course_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">recommended_section_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">time_slot</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">recommendation_score</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">why_recommended</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">slot_number</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">model_version</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">time_preference</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">semester</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">year</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">course_name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">cluster</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">credits</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.Section" class="doc doc-heading">
            <code>Section</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Response schema for section</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Section</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response schema for section&quot;&quot;&quot;</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">capacity</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">roomID</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">duration</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">time_slot_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">course_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">instructor_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">syllabus_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">from_attributes</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.SectionCreate" class="doc doc-heading">
            <code>SectionCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for creating a section</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SectionCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for creating a section&quot;&quot;&quot;</span>
    <span class="n">capacity</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">roomID</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">duration</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">time_slot_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">course_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">instructor_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">syllabus_url</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.SectionName" class="doc doc-heading">
            <code>SectionName</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Response schema for section_name</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SectionName</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response schema for section_name&quot;&quot;&quot;</span>
    <span class="n">section_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">section_id</span><span class="p">:</span> <span class="nb">int</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">from_attributes</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.SectionNameCreate" class="doc doc-heading">
            <code>SectionNameCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for creating a section_name</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SectionNameCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for creating a section_name&quot;&quot;&quot;</span>
    <span class="n">section_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">section_id</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.Student" class="doc doc-heading">
            <code>Student</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Response schema for student</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Student</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response schema for student&quot;&quot;&quot;</span>
    <span class="n">student_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">student_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">credit</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">program_name</span><span class="p">:</span> <span class="nb">str</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">from_attributes</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.StudentCreate" class="doc doc-heading">
            <code>StudentCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for creating a student</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">StudentCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for creating a student&quot;&quot;&quot;</span>
    <span class="n">student_name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">credit</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">program_name</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.Takes" class="doc doc-heading">
            <code>Takes</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Response schema for takes (student enrollment)</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Takes</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response schema for takes (student enrollment)&quot;&quot;&quot;</span>
    <span class="n">student_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">section_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">grade</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">from_attributes</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.TakesCreate" class="doc doc-heading">
            <code>TakesCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for creating a takes record</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TakesCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for creating a takes record&quot;&quot;&quot;</span>
    <span class="n">student_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">section_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">grade</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.TimeSlot" class="doc doc-heading">
            <code>TimeSlot</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Response schema for time slot</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TimeSlot</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response schema for time slot&quot;&quot;&quot;</span>
    <span class="n">time_slot_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">day_of_week</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">start_time</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">end_time</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">year</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">semester</span><span class="p">:</span> <span class="nb">str</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">from_attributes</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.TimeSlotCreate" class="doc doc-heading">
            <code>TimeSlotCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for creating a time slot</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TimeSlotCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for creating a time slot&quot;&quot;&quot;</span>
    <span class="n">day_of_week</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">start_time</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">end_time</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">year</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">semester</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.User" class="doc doc-heading">
            <code>User</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Response schema for user</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">User</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response schema for user&quot;&quot;&quot;</span>
    <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">username</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">password</span><span class="p">:</span> <span class="nb">str</span>  <span class="c1"># Note: In production, never return password in response</span>
    <span class="n">student_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">from_attributes</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.UserCreate" class="doc doc-heading">
            <code>UserCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for creating a user</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">UserCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for creating a user&quot;&quot;&quot;</span>
    <span class="n">username</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">password</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">student_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.Works" class="doc doc-heading">
            <code>Works</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Response schema for works (instructor-department relationship)</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Works</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Response schema for works (instructor-department relationship)&quot;&quot;&quot;</span>
    <span class="n">instructorid</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">dept_name</span><span class="p">:</span> <span class="nb">str</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
        <span class="n">from_attributes</span> <span class="o">=</span> <span class="kc">True</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="university_app.api.Database.schema.WorksCreate" class="doc doc-heading">
            <code>WorksCreate</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="pydantic.BaseModel">BaseModel</span></code></p>



        <p>Request schema for creating a works record</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>university_app/api/Database/schema.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">WorksCreate</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Request schema for creating a works record&quot;&quot;&quot;</span>
    <span class="n">instructorid</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">dept_name</span><span class="p">:</span> <span class="nb">str</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>